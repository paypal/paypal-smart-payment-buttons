window.spb=function(n){var t={};function o(e){if(t[e])return t[e].exports;var r=t[e]={i:e,l:!1,exports:{}};return n[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=n,o.c=t,o.d=function(e,r,n){o.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(r,e){if(1&e&&(r=o(r)),8&e)return r;if(4&e&&"object"==typeof r&&r&&r.__esModule)return r;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:r}),2&e&&"string"!=typeof r)for(var t in r)o.d(n,t,function(e){return r[e]}.bind(null,t));return n},o.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(r,"a",r),r},o.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},o.p="",o(o.s=19)}([function(e,r,n){"use strict";n.d(r,"m",function(){return s}),n.d(r,"c",function(){return a}),n.d(r,"e",function(){return u}),n.d(r,"h",function(){return c}),n.d(r,"d",function(){return f}),n.d(r,"f",function(){return d}),n.d(r,"g",function(){return l}),n.d(r,"k",function(){return p}),n.d(r,"b",function(){return w}),n.d(r,"j",function(){return v}),n.d(r,"a",function(){return m}),n.d(r,"l",function(){return y}),n.d(r,"i",function(){return z});var t,o=n(1),i=n(6);function s(){var e="0123456789abcdef";return"xxxxxxxxxx".replace(/./g,function(){return e.charAt(Math.floor(Math.random()*e.length))})+"_"+function(e){if("function"==typeof btoa)return btoa(e);if("undefined"!=typeof Buffer)return Buffer.from(e,"utf8").toString("base64");throw new Error("Can not find window.btoa or Buffer")}((new Date).toISOString().slice(11,19).replace("T",".")).replace(/[^a-zA-Z0-9]/g,"").toLowerCase()}function a(){if("undefined"!=typeof window)return window;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("No global found")}function h(e){try{return JSON.stringify(Array.prototype.slice.call(e),function(e,r){return"function"==typeof r?"memoize["+function(e){if(t=t||new i.a,null==e||"object"!=typeof e&&"function"!=typeof e)throw new Error("Invalid object");var r=t.get(e);return r||(r=typeof e+":"+s(),t.set(e,r)),r}(r)+"]":r})}catch(e){throw new Error("Arguments not serializable -- can not be used to memoize")}}function u(u,c){var e=this;void 0===c&&(c={});var f=new i.a;function r(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var t=f.getOrSet(c.thisNamespace?this:u,function(){return{}}),o=h(r),i=c.time;if(t[o]&&i&&Date.now()-t[o].time<i&&delete t[o],t[o])return t[o].value;var s=Date.now(),a=u.apply(this,arguments);return t[o]={time:s,value:a},t[o].value}return r.reset=function(){f.delete(c.thisNamespace?e:u)},c.name&&(r.displayName=c.name+":memoized"),r}function c(e,r){function n(){return o.a.try(e,this,arguments)}return void 0===r&&(r={}),r.name&&(n.displayName=r.name+":promisified"),n}function f(e,r,n){void 0===n&&(n=[]);var t=e.__inline_memoize_cache__=e.__inline_memoize_cache__||{},o=h(n);return t.hasOwnProperty(o)?t[o]:t[o]=r.apply(void 0,n)}function d(){}function l(e){var r=!1;return function(){if(!r)return r=!0,e.apply(this,arguments)}}function p(e){return"string"==typeof e?e:e&&"function"==typeof e.toString?e.toString():Object.prototype.toString.call(e)}function w(e,r){if(!r)return e;if(Object.assign)return Object.assign(e,r);for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n]);return e}function v(r,n){var t;return function e(){t=setTimeout(function(){r(),e()},n)}(),{cancel:function(){clearTimeout(t)}}}function m(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function y(e){var r,n;try{r=e()}catch(e){n=e}return{result:r,error:n}}function z(e,r){var n=e.indexOf(r);-1!==n&&e.splice(n,1)}},function(e,r,n){"use strict";function h(e){try{if(!e)return!1;if("undefined"!=typeof Promise&&e instanceof Promise)return!0;if("undefined"!=typeof window&&window.Window&&e instanceof window.Window)return!1;if("undefined"!=typeof window&&window.constructor&&e instanceof window.constructor)return!1;var r={}.toString;if(r){var n=r.call(e);if("[object Window]"===n||"[object global]"===n||"[object DOMWindow]"===n)return!1}if("function"==typeof e.then)return!0}catch(e){return!1}return!1}function t(){var e;if("undefined"!=typeof window)e=window;else{if("undefined"==typeof window)throw new TypeError("Can not find global");e=window}var r=e.__zalgopromise__=e.__zalgopromise__||{};return r.flushPromises=r.flushPromises||[],r.activeCount=r.activeCount||0,r.possiblyUnhandledPromiseHandlers=r.possiblyUnhandledPromiseHandlers||[],r.dispatchedErrors=r.dispatchedErrors||[],r}var o=function(){function f(e){var r=this;if(this.resolved=void 0,this.rejected=void 0,this.errorHandled=void 0,this.value=void 0,this.error=void 0,this.handlers=void 0,this.dispatching=void 0,this.stack=void 0,this.resolved=!1,this.rejected=!1,this.errorHandled=!1,this.handlers=[],e){var n,t,o=!1,i=!1,s=!1;try{e(function(e){s?r.resolve(e):(o=!0,n=e)},function(e){s?r.reject(e):(i=!0,t=e)})}catch(e){return void this.reject(e)}s=!0,o?this.resolve(n):i&&this.reject(t)}}var e=f.prototype;return e.resolve=function(e){if(this.resolved||this.rejected)return this;if(h(e))throw new Error("Can not resolve promise with another promise");return this.resolved=!0,this.value=e,this.dispatch(),this},e.reject=function(e){var r=this;if(this.resolved||this.rejected)return this;if(h(e))throw new Error("Can not reject promise with another promise");if(!e){var n=e&&"function"==typeof e.toString?e.toString():Object.prototype.toString.call(e);e=new Error("Expected reject to be called with Error, got "+n)}return this.rejected=!0,this.error=e,this.errorHandled||setTimeout(function(){r.errorHandled||function(e,r){if(-1===t().dispatchedErrors.indexOf(e)){t().dispatchedErrors.push(e),setTimeout(function(){throw e},1);for(var n=0;n<t().possiblyUnhandledPromiseHandlers.length;n++)t().possiblyUnhandledPromiseHandlers[n](e,r)}}(e,r)},1),this.dispatch(),this},e.asyncReject=function(e){return this.errorHandled=!0,this.reject(e),this},e.dispatch=function(){var s=this,e=this.dispatching,a=this.resolved,u=this.rejected,c=this.handlers;if(!e&&(a||u)){this.dispatching=!0,t().activeCount+=1;for(var r=function(e){var r=c[e],n=r.onSuccess,t=r.onError,o=r.promise,i=void 0;if(a)try{i=n?n(s.value):s.value}catch(e){return o.reject(e),"continue"}else if(u){if(!t)return o.reject(s.error),"continue";try{i=t(s.error)}catch(e){return o.reject(e),"continue"}}i instanceof f&&(i.resolved||i.rejected)?(i.resolved?o.resolve(i.value):o.reject(i.error),i.errorHandled=!0):h(i)?i instanceof f&&(i.resolved||i.rejected)?i.resolved?o.resolve(i.value):o.reject(i.error):i.then(function(e){o.resolve(e)},function(e){o.reject(e)}):o.resolve(i)},n=0;n<c.length;n++)r(n);c.length=0,this.dispatching=!1,t().activeCount-=1,0===t().activeCount&&f.flushQueue()}},e.then=function(e,r){if(e&&"function"!=typeof e&&!e.call)throw new Error("Promise.then expected a function for success handler");if(r&&"function"!=typeof r&&!r.call)throw new Error("Promise.then expected a function for error handler");var n=new f;return this.handlers.push({promise:n,onSuccess:e,onError:r}),this.errorHandled=!0,this.dispatch(),n},e.catch=function(e){return this.then(void 0,e)},e.finally=function(r){if(r&&"function"!=typeof r&&!r.call)throw new Error("Promise.finally expected a function");return this.then(function(e){return f.try(r).then(function(){return e})},function(e){return f.try(r).then(function(){throw e})})},e.timeout=function(e,r){var n=this;if(this.resolved||this.rejected)return this;var t=setTimeout(function(){n.resolved||n.rejected||n.reject(r||new Error("Promise timed out after "+e+"ms"))},e);return this.then(function(e){return clearTimeout(t),e})},e.toPromise=function(){if("undefined"==typeof Promise)throw new TypeError("Could not find Promise");return Promise.resolve(this)},f.resolve=function(n){return n instanceof f?n:h(n)?new f(function(e,r){return n.then(e,r)}):(new f).resolve(n)},f.reject=function(e){return(new f).reject(e)},f.asyncReject=function(e){return(new f).asyncReject(e)},f.all=function(n){var t=new f,o=n.length,i=[];if(!o)return t.resolve(i),t;for(var e=function(r){var e=n[r];if(e instanceof f){if(e.resolved)return i[r]=e.value,o-=1,"continue"}else if(!h(e))return i[r]=e,o-=1,"continue";f.resolve(e).then(function(e){i[r]=e,0==(o-=1)&&t.resolve(i)},function(e){t.reject(e)})},r=0;r<n.length;r++)e(r);return 0===o&&t.resolve(i),t},f.hash=function(e){var n={};return f.all(Object.keys(e).map(function(r){return f.resolve(e[r]).then(function(e){n[r]=e})})).then(function(){return n})},f.map=function(e,r){return f.all(e.map(r))},f.onPossiblyUnhandledException=function(e){return r=e,t().possiblyUnhandledPromiseHandlers.push(r),{cancel:function(){t().possiblyUnhandledPromiseHandlers.splice(t().possiblyUnhandledPromiseHandlers.indexOf(r),1)}};var r},f.try=function(e,r,n){if(e&&"function"!=typeof e&&!e.call)throw new Error("Promise.try expected a function");var t;try{t=e.apply(r,n||[])}catch(e){return f.reject(e)}return f.resolve(t)},f.delay=function(r){return new f(function(e){setTimeout(e,r)})},f.isPromise=function(e){return!!(e&&e instanceof f)||h(e)},f.flush=function(){var e=new f;return t().flushPromises.push(e),0===t().activeCount&&f.flushQueue(),e},f.flushQueue=function(){var e=t().flushPromises;t().flushPromises=[];for(var r=0;r<e.length;r++)e[r].resolve()},f}();n.d(r,"a",function(){return o})},function(e,r,n){"use strict";var t=n(7);n.d(r,"supportsPopups",function(){return t.b});var o=n(9);n.d(r,"onClick",function(){return o.b}),n.d(r,"querySelectorAll",function(){return o.c}),n(11),n(12),n(8);var i=n(0);n.d(r,"memoize",function(){return i.e}),n.d(r,"noop",function(){return i.f});var s=n(13);n.d(r,"request",function(){return s.a}),n(14),n(15),n(16),n(17)},function(e,r,n){"use strict";var t=n(18);n.d(r,"getParent",function(){return t.a}),n.d(r,"getTop",function(){return t.b}),n.d(r,"isWindow",function(){return t.c}),n.d(r,"isWindowClosed",function(){return t.d}),n.d(r,"linkFrameWindow",function(){return t.e}),n(10),n(4)},function(e,r,n){"use strict";n.d(r,"a",function(){return t}),n.d(r,"b",function(){return o});var t={MOCK:"mock:",FILE:"file:",ABOUT:"about:"},o="*"},function(e,r,n){"use strict";function t(){return(t=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(this,arguments)}n.d(r,"a",function(){return t})},function(e,r,n){"use strict";var t={};n.r(t),n.d(t,"WeakMap",function(){return s});var o=n(3);function u(e,r){for(var n=0;n<e.length;n++)try{if(e[n]===r)return n}catch(e){}return-1}var c=Object.defineProperty,i=Date.now()%1e9,s=function(){function e(){if(this.name=void 0,this.weakmap=void 0,this.keys=void 0,this.values=void 0,i+=1,this.name="__weakmap_"+(1e9*Math.random()>>>0)+"__"+i,function(){if("undefined"==typeof WeakMap)return!1;if(void 0===Object.freeze)return!1;try{var e=new WeakMap,r={},n="__testvalue__";return Object.freeze(r),e.set(r,n),e.get(r)===n}catch(e){return!1}}())try{this.weakmap=new WeakMap}catch(e){}this.keys=[],this.values=[]}var r=e.prototype;return r._cleanupClosedWindows=function(){for(var e=this.weakmap,r=this.keys,n=0;n<r.length;n++){var t=r[n];if(Object(o.isWindow)(t)&&Object(o.isWindowClosed)(t)){if(e)try{e.delete(t)}catch(e){}r.splice(n,1),this.values.splice(n,1),n-=1}}},r.isSafeToReadWrite=function(e){if(Object(o.isWindow)(e))return!1;try{e&&e.self,e&&e[this.name]}catch(e){return!1}return!0},r.set=function(e,r){if(!e)throw new Error("WeakMap expected key");var n=this.weakmap;if(n)try{n.set(e,r)}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e)){var t=this.name,o=e[t];o&&o[0]===e?o[1]=r:c(e,t,{value:[e,r],writable:!0})}else{this._cleanupClosedWindows();var i=this.keys,s=this.values,a=u(i,e);-1===a?(i.push(e),s.push(r)):s[a]=r}},r.get=function(e){if(!e)throw new Error("WeakMap expected key");var r=this.weakmap;if(r)try{if(r.has(e))return r.get(e)}catch(e){delete this.weakmap}if(!this.isSafeToReadWrite(e)){this._cleanupClosedWindows();var n=u(this.keys,e);if(-1===n)return;return this.values[n]}var t=e[this.name];if(t&&t[0]===e)return t[1]},r.delete=function(e){if(!e)throw new Error("WeakMap expected key");var r=this.weakmap;if(r)try{r.delete(e)}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e)){var n=e[this.name];n&&n[0]===e&&(n[0]=n[1]=void 0)}else{this._cleanupClosedWindows();var t=this.keys,o=u(t,e);-1!==o&&(t.splice(o,1),this.values.splice(o,1))}},r.has=function(e){if(!e)throw new Error("WeakMap expected key");var r=this.weakmap;if(r)try{if(r.has(e))return!0}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e)){var n=e[this.name];return!(!n||n[0]!==e)}return this._cleanupClosedWindows(),-1!==u(this.keys,e)},r.getOrSet=function(e,r){if(this.has(e))return this.get(e);var n=r();return this.set(e,n),n},e}();n.d(r,"a",function(){return s})},function(e,r,n){"use strict";function h(){return window.navigator.mockUserAgent||window.navigator.userAgent}function t(){return!!h().match(/Android|webOS|iPhone|iPad|iPod|bada|Symbian|Palm|CriOS|BlackBerry|IEMobile|WindowsMobile|Opera Mini/i)}function d(e){return void 0===e&&(e=h()),-1<e.indexOf("Opera Mini")}function o(e){return void 0===e&&(e=h()),void 0===(t=e)&&(t=h()),void 0===(i=t)&&(i=h()),!(/iPhone|iPod|iPad/.test(i)&&(void 0===(o=t)&&(o=h()),/\bGSA\b/.test(o)||/.+AppleWebKit(?!.*Safari)/.test(t))||(void 0===(r=e)&&(r=h()),void 0===(n=r)&&(n=h()),/Android/.test(n)&&/Version\/[\d.]+/.test(r)&&!d(r))||d(e)||(void 0===(f=e)&&(f=h()),/FxiOS/i.test(f))||(void 0===(c=e)&&(c=h()),/EdgiOS/i.test(c))||(void 0===(u=e)&&(u=h()),-1!==u.indexOf("FBAN")||-1!==u.indexOf("FBAV"))||(void 0===(a=e)&&(a=h()),/QQBrowser/.test(a))||"undefined"!=typeof process&&process.versions&&process.versions.electron||(s=h(),/Macintosh.*AppleWebKit(?!.*Safari)/i.test(s))||!0===window.navigator.standalone||window.matchMedia("(display-mode: standalone)").matches);var r,n,t,o,i,s,a,u,c,f}n.d(r,"a",function(){return t}),n.d(r,"b",function(){return o})},function(e,r,n){"use strict";n.d(r,"a",function(){return i});var u=n(0),c=n(9);function i(e){var r=e.name,n=e.version,t=void 0===n?"latest":n,o=e.lifetime,a=void 0===o?3e5:o;return Object(u.d)(i,function(){var i,s="__"+r+"_"+t+"_storage__";function e(e){var r,n=Object(c.a)();if(i&&(r=i),!r&&n){var t=window.localStorage.getItem(s);t&&(r=JSON.parse(t))}r||(r=Object(u.c)()[s]),r||(r={id:Object(u.m)()}),r.id||(r.id=Object(u.m)());var o=e(i=r);return n?window.localStorage.setItem(s,JSON.stringify(r)):Object(u.c)()[s]=r,i=null,o}function n(t){return e(function(e){var r=e.__session__,n=Date.now();return r&&n-r.created>a&&(r=null),r||(r={guid:Object(u.m)(),created:n}),e.__session__=r,t(r)})}return{getState:e,getID:function(){return e(function(e){return e.id})},getSessionState:function(r){return n(function(e){return e.state=e.state||{},r(e.state)})},getSessionID:function(){return n(function(e){return e.guid})}}},[{name:r,version:t,lifetime:a}])}},function(e,r,n){"use strict";n(5),n(1),n(3),n(6);var t=n(0),o=(n(7),13);function i(e,r){return void 0===r&&(r=window.document),Array.prototype.slice.call(r.querySelectorAll(e))}function s(e,r){e.addEventListener("touchstart",t.f),e.addEventListener("click",r),e.addEventListener("keypress",function(e){if(e.keyCode===o)return r(e)})}function a(){return Object(t.d)(a,function(){try{if("undefined"==typeof window)return!1;if(window.localStorage){var e=Math.random().toString();window.localStorage.setItem("__test__localStorage__",e);var r=window.localStorage.getItem("__test__localStorage__");if(window.localStorage.removeItem("__test__localStorage__"),e===r)return!0}}catch(e){}return!1})}n.d(r,"c",function(){return i}),n.d(r,"b",function(){return s}),n.d(r,"a",function(){return a}),Object.create(Error.prototype)},function(e,r){},function(e,r,n){"use strict";n(0),n(8)},function(e,r,n){"use strict";n(0)},function(e,r,n){"use strict";n.d(r,"a",function(){return t});var i=n(1),g={CONTENT_TYPE:"content-type",ACCEPT:"accept"},b=[];function t(e){var l=e.url,r=e.method,p=void 0===r?"get":r,n=e.headers,w=void 0===n?{}:n,v=e.json,m=e.data,y=e.body,t=e.win,z=void 0===t?window:t,o=e.timeout,E=void 0===o?0:o;return new i.a(function(i,s){if(v&&m||v&&y||m&&v)throw new Error("Only options.json or options.data or options.body should be passed");for(var e={},r=0,n=Object.keys(w);r<n.length;r++){var t=n[r];e[t.toLowerCase()]=w[t]}v?e[g.CONTENT_TYPE]=e[g.CONTENT_TYPE]||"application/json":(m||y)&&(e[g.CONTENT_TYPE]=e[g.CONTENT_TYPE]||"application/x-www-form-urlencoded; charset=utf-8"),e[g.ACCEPT]=e[g.ACCEPT]||"application/json";for(var o=0;o<b.length;o++)for(var a=(0,b[o])(),u=0,c=Object.keys(a);u<c.length;u++){var f=c[u];e[f.toLowerCase()]=a[f]}var h=new z.XMLHttpRequest;for(var d in h.addEventListener("load",function(){var e=function(e){void 0===e&&(e="");for(var r={},n=0,t=e.trim().split("\n");n<t.length;n++){var o=t[n].split(":"),i=o[0],s=o.slice(1);r[i.toLowerCase()]=s.join(":").trim()}return r}(this.getAllResponseHeaders());if(!this.status)return s(new Error("Request to "+p.toLowerCase()+" "+l+" failed: no response status code."));var r=e["content-type"],n=r&&(0===r.indexOf("application/json")||0===r.indexOf("text/json")),t=this.responseText;try{t=JSON.parse(t)}catch(e){if(n)return s(new Error("Invalid json: "+this.responseText+"."))}var o={status:this.status,headers:e,body:t};return i(o)},!1),h.addEventListener("error",function(e){s(new Error("Request to "+p.toLowerCase()+" "+l+" failed: "+e.toString()+"."))},!1),h.open(p,l,!0),e)e.hasOwnProperty(d)&&h.setRequestHeader(d,e[d]);v?y=JSON.stringify(v):m&&(y=Object.keys(m).map(function(e){return encodeURIComponent(e)+"="+(m?encodeURIComponent(m[e]):"")}).join("&")),h.timeout=E,h.ontimeout=function(){s(new Error("Request to "+p.toLowerCase()+" "+l+" has timed out"))},h.send(y)})}},function(e,r){},function(e,r,n){"use strict";n(0)},function(e,r,n){},function(e,r,n){"use strict";n(1),n(0)},function(e,r,n){"use strict";var i=n(4);n.d(r,"a",function(){return a}),n.d(r,"b",function(){return t}),n.d(r,"d",function(){return p}),n.d(r,"e",function(){return w}),n.d(r,"c",function(){return v});var o="Call was rejected by callee.\r\n";function s(e){return void 0===e&&(e=window),e.location.protocol===i.a.ABOUT}function a(e){if(e)try{if(e.parent&&e.parent!==e)return e.parent}catch(e){}}function u(e){try{return e&&e.location&&e.location.href,!0}catch(e){}return!1}function c(e){var r=(e=e||window).location;if(!r)throw new Error("Can not read window location");var n=r.protocol;if(!n)throw new Error("Can not read window protocol");if(n===i.a.FILE)return i.a.FILE+"//";if(n===i.a.ABOUT){var t=a(e);return t&&u(t)?c(t):i.a.ABOUT+"//"}var o=r.host;if(!o)throw new Error("Can not read window host");return n+"//"+o}function f(e){var r=c(e=e||window);return r&&e.mockDomain&&0===e.mockDomain.indexOf(i.a.MOCK)?e.mockDomain:r}function h(e,r){if(!e||!r)return!1;var n=a(r);return n?n===e:-1!==function(e){var r=[];try{for(;e.parent!==e;)r.push(e.parent),e=e.parent}catch(e){}return r}(r).indexOf(e)}function t(e){if(e){try{if(e.top)return e.top}catch(e){}if(a(e)===e)return e;try{if(h(window,e)&&window.top)return window.top}catch(e){}try{if(h(e,window)&&window.top)return window.top}catch(e){}for(var r=0,n=function e(r){for(var n=[],t=0,o=function(r){var n,e,t=[];try{n=r.frames}catch(e){n=r}try{e=n.length}catch(e){}if(0===e)return t;if(e){for(var o=0;o<e;o++){var i=void 0;try{i=n[o]}catch(e){continue}t.push(i)}return t}for(var s=0;s<100;s++){var a=void 0;try{a=n[s]}catch(e){return t}if(!a)return t;t.push(a)}return t}(r);t<o.length;t++){var i=o[t];n.push(i);for(var s=0,a=e(i);s<a.length;s++){var u=a[s];n.push(u)}}return n}(e);r<n.length;r++){var t=n[r];try{if(t.top)return t.top}catch(e){}if(a(t)===t)return t}}}var d=[],l=[];function p(e,r){void 0===r&&(r=!0);try{if(e===window)return!1}catch(e){return!0}try{if(!e)return!0}catch(e){return!0}try{if(e.closed)return!0}catch(e){return!e||e.message!==o}if(r&&function(e){if(!function(e){try{if(e===window)return!0}catch(e){}try{var r=Object.getOwnPropertyDescriptor(e,"location");if(r&&!1===r.enumerable)return!1}catch(e){}try{if(s(e)&&u(e))return!0}catch(e){}try{if(c(e)===c(window))return!0}catch(e){}return!1}(e))return!1;try{if(e===window)return!0;if(s(e)&&u(e))return!0;if(f(window)===f(e))return!0}catch(e){}return!1}(e))try{if(e.mockclosed)return!0}catch(e){}try{if(!e.parent||!e.top)return!0}catch(e){}var n=function(e,r){for(var n=0;n<e.length;n++)try{if(e[n]===r)return n}catch(e){}return-1}(d,e);if(-1!==n){var t=l[n];if(t&&function(e){if(!e.contentWindow)return!0;if(!e.parentNode)return!0;var r=e.ownerDocument;return!(!r||!r.documentElement||r.documentElement.contains(e))}(t))return!0}return!1}function w(e){if(function(){for(var e=0;e<d.length;e++)p(d[e])&&(l.splice(e,1),d.splice(e,1))}(),e&&e.contentWindow)try{d.push(e.contentWindow),l.push(e)}catch(e){}}function v(e){try{if(e===window)return!0}catch(e){if(e&&e.message===o)return!0}try{if("[object Window]"===Object.prototype.toString.call(e))return!0}catch(e){if(e&&e.message===o)return!0}try{if(window.Window&&e instanceof window.Window)return!0}catch(e){if(e&&e.message===o)return!0}try{if(e&&e.self===e)return!0}catch(e){if(e&&e.message===o)return!0}try{if(e&&e.parent===e)return!0}catch(e){if(e&&e.message===o)return!0}try{if(e&&e.top===e)return!0}catch(e){if(e&&e.message===o)return!0}try{e&&e.__cross_domain_utils_window_check__}catch(e){return!0}return!1}},function(e,r,n){"use strict";n.r(r);var t,h=n(2),d=n(5),l=n(1),u=((t={}).AD=["en","fr","es","zh"],t.AE=["en","fr","es","zh","ar"],t.AG=["en","fr","es","zh"],t.AI=["en","fr","es","zh"],t.AL=["en"],t.AM=["en","fr","es","zh"],t.AN=["en","fr","es","zh"],t.AO=["en","fr","es","zh"],t.AR=["es","en"],t.AT=["de","en"],t.AU=["en"],t.AW=["en","fr","es","zh"],t.AZ=["en","fr","es","zh"],t.BA=["en"],t.BB=["en","fr","es","zh"],t.BE=["en","nl","fr"],t.BF=["fr","en","es","zh"],t.BG=["en"],t.BH=["ar","en","fr","es","zh"],t.BI=["fr","en","es","zh"],t.BJ=["fr","en","es","zh"],t.BM=["en","fr","es","zh"],t.BN=["en"],t.BO=["es","en","fr","zh"],t.BR=["pt","en"],t.BS=["en","fr","es","zh"],t.BT=["en"],t.BW=["en","fr","es","zh"],t.BY=["en"],t.BZ=["en","es","fr","zh"],t.CA=["en","fr"],t.CD=["fr","en","es","zh"],t.CG=["en","fr","es","zh"],t.CH=["de","fr","en"],t.CI=["fr","en"],t.CK=["en","fr","es","zh"],t.CL=["es","en","fr","zh"],t.CM=["fr","en"],t.CN=["zh"],t.CO=["es","en","fr","zh"],t.CR=["es","en","fr","zh"],t.CV=["en","fr","es","zh"],t.CY=["en"],t.CZ=["cs","en","fr","es","zh"],t.DE=["de","en"],t.DJ=["fr","en","es","zh"],t.DK=["da","en"],t.DM=["en","fr","es","zh"],t.DO=["es","en","fr","zh"],t.DZ=["ar","en","fr","es","zh"],t.EC=["es","en","fr","zh"],t.EE=["en","ru","fr","es","zh"],t.EG=["ar","en","fr","es","zh"],t.ER=["en","fr","es","zh"],t.ES=["es","en"],t.ET=["en","fr","es","zh"],t.FI=["fi","en","fr","es","zh"],t.FJ=["en","fr","es","zh"],t.FK=["en","fr","es","zh"],t.FM=["en"],t.FO=["da","en","fr","es","zh"],t.FR=["fr","en"],t.GA=["fr","en","es","zh"],t.GB=["en"],t.GD=["en","fr","es","zh"],t.GE=["en","fr","es","zh"],t.GF=["en","fr","es","zh"],t.GI=["en","fr","es","zh"],t.GL=["da","en","fr","es","zh"],t.GM=["en","fr","es","zh"],t.GN=["fr","en","es","zh"],t.GP=["en","fr","es","zh"],t.GR=["el","en","fr","es","zh"],t.GT=["es","en","fr","zh"],t.GW=["en","fr","es","zh"],t.GY=["en","fr","es","zh"],t.HK=["en","zh"],t.HN=["es","en","fr","zh"],t.HR=["en"],t.HU=["hu","en","fr","es","zh"],t.ID=["id","en"],t.IE=["en","fr","es","zh"],t.IL=["he","en"],t.IN=["en"],t.IS=["en"],t.IT=["it","en"],t.JM=["en","es","fr","zh"],t.JO=["ar","en","fr","es","zh"],t.JP=["ja","en"],t.KE=["en","fr","es","zh"],t.KG=["en","fr","es","zh"],t.KH=["en"],t.KI=["en","fr","es","zh"],t.KM=["fr","en","es","zh"],t.KN=["en","fr","es","zh"],t.KR=["ko","en"],t.KW=["ar","en","fr","es","zh"],t.KY=["en","fr","es","zh"],t.KZ=["en","fr","es","zh"],t.LA=["en"],t.LC=["en","fr","es","zh"],t.LI=["en","fr","es","zh"],t.LK=["en"],t.LS=["en","fr","es","zh"],t.LT=["en","ru","fr","es","zh"],t.LU=["en","de","fr","es","zh"],t.LV=["en","ru","fr","es","zh"],t.MA=["ar","en","fr","es","zh"],t.MC=["fr","en"],t.MD=["en"],t.ME=["en"],t.MG=["en","fr","es","zh"],t.MH=["en","fr","es","zh"],t.MK=["en"],t.ML=["fr","en","es","zh"],t.MN=["en"],t.MQ=["en","fr","es","zh"],t.MR=["en","fr","es","zh"],t.MS=["en","fr","es","zh"],t.MT=["en"],t.MU=["en","fr","es","zh"],t.MV=["en"],t.MW=["en","fr","es","zh"],t.MX=["es","en"],t.MY=["en"],t.MZ=["en","fr","es","zh"],t.NA=["en","fr","es","zh"],t.NC=["en","fr","es","zh"],t.NE=["fr","en","es","zh"],t.NF=["en","fr","es","zh"],t.NG=["en"],t.NI=["es","en","fr","zh"],t.NL=["nl","en"],t.NO=["no","en"],t.NP=["en"],t.NR=["en","fr","es","zh"],t.NU=["en","fr","es","zh"],t.NZ=["en","fr","es","zh"],t.OM=["ar","en","fr","es","zh"],t.PA=["es","en","fr","zh"],t.PE=["es","en","fr","zh"],t.PF=["en","fr","es","zh"],t.PG=["en","fr","es","zh"],t.PH=["en"],t.PL=["pl","en"],t.PM=["en","fr","es","zh"],t.PN=["en","fr","es","zh"],t.PT=["pt","en"],t.PW=["en","fr","es","zh"],t.PY=["es","en"],t.QA=["en","fr","es","zh","ar"],t.RE=["en","fr","es","zh"],t.RO=["en","fr","es","zh"],t.RS=["en","fr","es","zh"],t.RU=["ru","en"],t.RW=["fr","en","es","zh"],t.SA=["ar","en","fr","es","zh"],t.SB=["en","fr","es","zh"],t.SC=["fr","en","es","zh"],t.SE=["sv","en"],t.SG=["en"],t.SH=["en","fr","es","zh"],t.SI=["en","fr","es","zh"],t.SJ=["en","fr","es","zh"],t.SK=["sk","en","fr","es","zh"],t.SL=["en","fr","es","zh"],t.SM=["en","fr","es","zh"],t.SN=["fr","en","es","zh"],t.SO=["en","fr","es","zh"],t.SR=["en","fr","es","zh"],t.ST=["en","fr","es","zh"],t.SV=["es","en","fr","zh"],t.SZ=["en","fr","es","zh"],t.TC=["en","fr","es","zh"],t.TD=["fr","en","es","zh"],t.TG=["fr","en","es","zh"],t.TH=["th","en"],t.TJ=["en","fr","es","zh"],t.TM=["en","fr","es","zh"],t.TN=["ar","en","fr","es","zh"],t.TO=["en"],t.TR=["tr","en"],t.TT=["en","fr","es","zh"],t.TV=["en","fr","es","zh"],t.TW=["zh","en"],t.TZ=["en","fr","es","zh"],t.UA=["en","ru","fr","es","zh"],t.UG=["en","fr","es","zh"],t.US=["en","fr","es","zh"],t.UY=["es","en","fr","zh"],t.VA=["en","fr","es","zh"],t.VC=["en","fr","es","zh"],t.VE=["es","en","fr","zh"],t.VG=["en","fr","es","zh"],t.VN=["en"],t.VU=["en","fr","es","zh"],t.WF=["en","fr","es","zh"],t.WS=["en"],t.YE=["ar","en","fr","es","zh"],t.YT=["en","fr","es","zh"],t.ZA=["en","fr","es","zh"],t.ZM=["en","fr","es","zh"],t.ZW=["en"],{CAPTURE:"capture",AUTHORIZE:"authorize",ORDER:"order"}),p=(u.CAPTURE,n(3)),w={AUTH:"/webapps/hermes/api/auth",ORDER:"/webapps/hermes/api/order",PAYMENT:"/webapps/hermes/api/payment",GRAPHQL:"/graphql"},a="smart_buttons",c={CSRF_TOKEN:"x-csrf-jwt",SOURCE:"x-source"},v={CC_PROCESSOR_DECLINED:"CC_PROCESSOR_DECLINED",INSTRUMENT_DECLINED:"INSTRUMENT_DECLINED"},o=/^(EC-)?[A-Z0-9]+$/,f="https://www.paypal.com/checkoutnow/error",m={},y="";function z(e){var r,o=e.url,n=e.method,t=void 0===n?"get":n,i=e.json,s=Object(d.a)({},m,((r={})[c.CSRF_TOKEN]=y,r[c.SOURCE]=a,r));return Object(h.request)({url:o,method:t,headers:s,json:i}).then(function(e){var r=e.status,n=e.headers,t=e.body;if(y=n[c.CSRF_TOKEN],"contingency"===t.ack)throw new Error(t.contingency);if(400<r)throw new Error("Api: "+o+" returned status code: "+r);if("success"!==t.ack)throw new Error("Api: "+o+" returned ack: "+t.ack);return t.data})}function i(){return z({url:w.AUTH})}var E=Object(h.memoize)(function(e){return m["x-paypal-internal-euat"]=e,i().then(h.noop)});function g(e){if(!e.match(o))throw new Error(e+" does not match pattern for order-id, ec-token or cart-id");return(r='\n        checkout {\n            checkoutSession(token : "'+e+'") {\n                cart {\n                    intent\n                    returnUrl {\n                        href\n                    }\n                    cancelUrl {\n                        href\n                    }\n                    amounts {\n                        total {\n                            currencyCode\n                        }\n                    }\n                }\n            }\n        }\n    ',Object(h.request)({url:w.GRAPHQL,method:"POST",json:{query:"\n                query {\n                    "+r+"\n                }\n            "}}).then(function(e){var r=e.body,n=(r.errors||[]).filter(function(e){return"ACCOUNT_CANNOT_BE_FETCHED"!==e.message});if(n.length){var t=n[0].message||JSON.stringify(n[0]);throw new Error(t)}return r})).then(function(e){var r=e.data.checkout.checkoutSession.cart,n="sale"===r.intent.toLowerCase()?u.CAPTURE:r.intent.toLowerCase(),t=r.amounts&&r.amounts.total.currencyCode,o=r.returnUrl&&r.returnUrl.href,i=r.cancelUrl&&r.cancelUrl.href,s=window.xprops.intent,a=window.xprops.currency;if(n!==s)throw new Error("Expected intent from order api call to be "+s+", got "+n+". Please ensure you are passing intent="+s+" to the sdk");if(t&&t!==a)throw new Error("Expected currency from order api call to be "+a+", got "+t+". Please ensure you are passing intent="+s+" to the sdk");if(o&&0!==o.indexOf(f))throw new Error('Expected return url to be either blank, or "'+f+'". Return url is forbidden for smart payment button integration.');if(i&&0!==i.indexOf(f))throw new Error('Expected cancel url to be either blank, or "'+f+'". Cancel url is forbidden for smart payment button integration.')});var r}var b=!1,O=!0;function C(e,r){if(void 0===e&&(e={}),void 0===r&&(r=Object(h.supportsPopups)()?"popup":"iframe"),b)throw new Error("Checkout already rendered");var n,t,o=[Object(p.getTop)(window),Object(p.getParent)()],i=o[0],s=o[1],a=(void 0===(t=e)&&(t={}),Object(h.memoize)(function(){return l.a.try(function(){if(t.createOrder)return t.createOrder();if(window.xprops.createBillingAgreement)return window.xprops.createBillingAgreement().then(function(e){return r=e,z({method:"post",url:w.PAYMENT+"/"+r+"/ectoken"}).then(function(e){return e.token});var r});if(window.xprops.createOrder)return window.xprops.createOrder();throw new Error("No mechanism to create order")})})),u=O&&s?s:i,c=a().then(g),f=window.paypal.Checkout(Object(d.a)({},e,{createOrder:a,locale:window.xprops.locale,commit:window.xprops.commit,onError:window.xprops.onError,onApprove:function(e){var r,n,t,o,i,s=e.orderID,a=e.payerID,u=e.paymentID,c=e.billingToken,f=(r=this,n=s,t=Object(h.memoize)(function(){return r.close().then(function(){return C({createOrder:function(){return l.a.resolve(n)}},"iframe")}).catch(h.noop).then(function(){return new l.a(h.noop)})}),o=function(e){if(e&&e.message===v.CC_PROCESSOR_DECLINED)return t();if(e&&e.message===v.INSTRUMENT_DECLINED)return t();throw new Error("Order could not be captured")},i=Object(h.memoize)(function(){return e=n,z({url:w.ORDER+"/"+e});var e}),{order:{capture:Object(h.memoize)(function(){return(e=n,z({method:"post",url:w.ORDER+"/"+e+"/capture"})).catch(o).finally(i.reset);var e}),authorize:Object(h.memoize)(function(){return(e=n,z({method:"post",url:w.ORDER+"/"+e+"/authorize"})).catch(o).finally(i.reset);var e}),get:i},restart:t});return window.xprops.onApprove({orderID:s,payerID:a,paymentID:u,billingToken:c},f).catch(function(e){return window.xprops.onError(e)})},onCancel:function(){return l.a.try(function(){return a()}).then(function(e){return window.xprops.onCancel({orderID:e})}).catch(function(e){return window.xprops.onError(e)})},onAuth:function(e){var r=e.accessToken;return E(r)},onClose:function(){b=!1},nonce:(n="",document.body&&(n=document.body.getAttribute("data-nonce")||""),n)}));return f.renderTo(u,"body",r).then(function(){return c.catch(function(e){return l.a.all([f.close(),f.onError(e)])})})}function s(){if(!window.paypal)throw new Error("PayPal library not loaded");Object(h.querySelectorAll)(".paypal-button").forEach(function(e){var r=e.getAttribute("data-funding-source"),n=e.getAttribute("data-card");Object(h.onClick)(e,function(e){e.preventDefault(),e.stopPropagation(),window.xprops.onClick&&window.xprops.onClick({fundingSource:r,card:n}),C({fundingSource:r}).catch(h.noop)})}),i().then(h.noop),window.xprops.getPrerenderDetails().then(function(e){if(e){var r=e.win,n=e.order;C({window:r,createOrder:function(){return n},fundingSource:e.fundingSource}).catch(h.noop)}})}n.d(r,"setupButton",function(){return s})}]);
//# sourceMappingURL=smart-payment-buttons.min.js.map