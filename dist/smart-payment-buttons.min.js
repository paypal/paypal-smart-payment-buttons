window.spb=function(n){var t={};function e(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=n,e.c=t,e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:r})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var o in n)e.d(r,o,function(t){return n[t]}.bind(null,o));return r},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return{}.hasOwnProperty.call(n,t)},e.p="",e(e.s=26)}([function(n,t,e){"use strict";var r={AD:"AD",AE:"AE",AG:"AG",AI:"AI",AL:"AL",AM:"AM",AN:"AN",AO:"AO",AR:"AR",AT:"AT",AU:"AU",AW:"AW",AZ:"AZ",BA:"BA",BB:"BB",BE:"BE",BF:"BF",BG:"BG",BH:"BH",BI:"BI",BJ:"BJ",BM:"BM",BN:"BN",BO:"BO",BR:"BR",BS:"BS",BT:"BT",BW:"BW",BY:"BY",BZ:"BZ",CA:"CA",CD:"CD",CG:"CG",CH:"CH",CI:"CI",CK:"CK",CL:"CL",CM:"CM",CN:"CN",CO:"CO",CR:"CR",CV:"CV",CY:"CY",CZ:"CZ",DE:"DE",DJ:"DJ",DK:"DK",DM:"DM",DO:"DO",DZ:"DZ",EC:"EC",EE:"EE",EG:"EG",ER:"ER",ES:"ES",ET:"ET",FI:"FI",FJ:"FJ",FK:"FK",FM:"FM",FO:"FO",FR:"FR",GA:"GA",GB:"GB",GD:"GD",GE:"GE",GF:"GF",GI:"GI",GL:"GL",GM:"GM",GN:"GN",GP:"GP",GR:"GR",GT:"GT",GW:"GW",GY:"GY",HK:"HK",HN:"HN",HR:"HR",HU:"HU",ID:"ID",IE:"IE",IL:"IL",IN:"IN",IS:"IS",IT:"IT",JM:"JM",JO:"JO",JP:"JP",KE:"KE",KG:"KG",KH:"KH",KI:"KI",KM:"KM",KN:"KN",KR:"KR",KW:"KW",KY:"KY",KZ:"KZ",LA:"LA",LC:"LC",LI:"LI",LK:"LK",LS:"LS",LT:"LT",LU:"LU",LV:"LV",MA:"MA",MC:"MC",MD:"MD",ME:"ME",MG:"MG",MH:"MH",MK:"MK",ML:"ML",MN:"MN",MQ:"MQ",MR:"MR",MS:"MS",MT:"MT",MU:"MU",MV:"MV",MW:"MW",MX:"MX",MY:"MY",MZ:"MZ",NA:"NA",NC:"NC",NE:"NE",NF:"NF",NG:"NG",NI:"NI",NL:"NL",NO:"NO",NP:"NP",NR:"NR",NU:"NU",NZ:"NZ",OM:"OM",PA:"PA",PE:"PE",PF:"PF",PG:"PG",PH:"PH",PL:"PL",PM:"PM",PN:"PN",PT:"PT",PW:"PW",PY:"PY",QA:"QA",RE:"RE",RO:"RO",RS:"RS",RU:"RU",RW:"RW",SA:"SA",SB:"SB",SC:"SC",SE:"SE",SG:"SG",SH:"SH",SI:"SI",SJ:"SJ",SK:"SK",SL:"SL",SM:"SM",SN:"SN",SO:"SO",SR:"SR",ST:"ST",SV:"SV",SZ:"SZ",TC:"TC",TD:"TD",TG:"TG",TH:"TH",TJ:"TJ",TM:"TM",TN:"TN",TO:"TO",TR:"TR",TT:"TT",TV:"TV",TW:"TW",TZ:"TZ",UA:"UA",UG:"UG",US:"US",UY:"UY",VA:"VA",VC:"VC",VE:"VE",VG:"VG",VN:"VN",VU:"VU",WF:"WF",WS:"WS",YE:"YE",YT:"YT",ZA:"ZA",ZM:"ZM",ZW:"ZW"},o={COMPONENTS:"components",ENV:"env",DEBUG:"debug",CACHEBUST:"cachebust",CLIENT_ID:"client-id",MERCHANT_ID:"merchant-id",LOCALE:"locale",CURRENCY:"currency",INTENT:"intent",COMMIT:"commit",VAULT:"vault",BUYER_COUNTRY:"buyer-country",DISABLE_FUNDING:"disable-funding",DISABLE_CARD:"disable-card",LOCALE_COUNTRY:"locale-country",LOCALE_LANG:"locale-lang",FRAMEWORK:"framework",INTEGRATION_DATE:"integration-date",ORDER_CURRENCY:"order-currency",ORDER_INTENT:"order-intent",ORDER_COMMIT:"order-commit",ORDER_VAULT:"order-vault"},i={FEED:"feed_name",STATE:"state_name",TRANSITION:"transition_name",BUTTON_TYPE:"button_type",SESSION_UID:"page_session_id",BUTTON_SESSION_UID:"button_session_id",TOKEN:"token",CONTEXT_ID:"context_id",CONTEXT_TYPE:"context_type",REFERER:"referer_url",MERCHANT_DOMAIN:"merchant_domain",PAY_ID:"pay_id",SELLER_ID:"seller_id",CLIENT_ID:"client_id",DATA_SOURCE:"serverside_data_source",BUTTON_SOURCE:"button_source",ERROR_CODE:"ext_error_code",ERROR_DESC:"ext_error_desc",PAGE_LOAD_TIME:"page_load_time",EXPERIMENT_NAME:"pxp_exp_id",TREATMENT_NAME:"pxp_trtmnt_id",TRANSITION_TIME:"transition_time",FUNDING_LIST:"eligible_payment_methods",FUNDING_COUNT:"eligible_payment_count",CHOSEN_FUNDING:"selected_payment_method",BUTTON_LAYOUT:"button_layout",VERSION:"checkoutjs_version",LOCALE:"locale",BUYER_COUNTRY:"buyer_cntry",INTEGRATION_IDENTIFIER:"integration_identifier",PARTNER_ATTRIBUTION_ID:"bn_code",SDK_NAME:"sdk_name",SDK_VERSION:"sdk_version",USER_AGENT:"user_agent",USER_ACTION:"user_action",CONTEXT_CORRID:"context_correlation_id"},u={COMMIT:"commit",CONTINUE:"continue"},c={PAYMENTS_SDK:"checkout"},a={PAYMENTS_SDK:"payments_sdk"},s={PAYMENTS_SDK:"payments_sdk"},d={CAPTURE:"capture",AUTHORIZE:"authorize",ORDER:"order"},f={PAYPAL:"paypal",VENMO:"venmo",ITAU:"itau",CREDIT:"credit",CARD:"card",IDEAL:"ideal",SEPA:"sepa",BANCONTACT:"bancontact",GIROPAY:"giropay",SOFORT:"sofort",EPS:"eps",MYBANK:"mybank",P24:"p24",VERKKOPANKKI:"verkkopankki",PAYU:"payu",ZIMPLER:"zimpler",WECHATPAY:"wechatpay"};e.d(t,"a",function(){return r}),e.d(t,"i",function(){return o}),e.d(t,"j",function(){return"unknown"}),e.d(t,"d",function(){return i}),e.d(t,"f",function(){return u}),e.d(t,"b",function(){return c}),e.d(t,"c",function(){return a}),e.d(t,"e",function(){return s}),e.d(t,"h",function(){return d}),e.d(t,"g",function(){return f})},function(n,t,e){"use strict";e.d(t,"n",function(){return r}),e.d(t,"o",function(){return o}),e.d(t,"a",function(){return i}),e.d(t,"j",function(){return u}),e.d(t,"d",function(){return c}),e.d(t,"b",function(){return a}),e.d(t,"l",function(){return s}),e.d(t,"c",function(){return d}),e.d(t,"p",function(){return f}),e.d(t,"k",function(){return l}),e.d(t,"q",function(){return p}),e.d(t,"m",function(){return h}),e.d(t,"f",function(){return E}),e.d(t,"g",function(){return O}),e.d(t,"h",function(){return v}),e.d(t,"e",function(){return b}),e.d(t,"i",function(){return w});var r="smart_buttons",o="smart-payment-buttons",i="x-paypal-internal-euat",u={AUTHORIZATION:"authorization",CSRF_TOKEN:"x-csrf-jwt",SOURCE:"x-source",REQUESTED_BY:"x-requested-by",ACCESS_TOKEN:"x-paypal-internal-euat",PARTNER_ATTRIBUTION_ID:"paypal-partner-attribution-id",CLIENT_METADATA_ID:"paypal-client-metadata-id"},c={FUNDING_SOURCE:"data-funding-source",CARD:"data-card",PAYMENT_METHOD_ID:"data-payment-method-id"},a={LOADING:"paypal-button-loading",CLICKED:"paypal-button-clicked"},s={INSTRUMENT_DECLINED:"INSTRUMENT_DECLINED",PAYER_ACTION_REQUIRED:"PAYER_ACTION_REQUIRED"},d={IFRAME:"iframe",POPUP:"popup"},f={BODY:"body"},l={PAYPAL_JS_SDK:"PAYPAL_JS_SDK"},p={INCONTEXT:"INCONTEXT",INLINE:"INLINE"},h={SMART_PAYMENT_BUTTONS:"SMART_PAYMENT_BUTTONS"},E={BUTTON_SESSION_ID:"button_session_id",ORDER_ID:"EC-Token"},O={BUTTON:"smart_button"},v={BUTTON_LOAD:"process_button_load",BUTTON_CLICK:"process_button_click",CREATE_ORDER:"process_create_order",RECEIVE_ORDER:"process_receive_order",CHECKOUT_SHIPPING_CHANGE:"process_checkout_shipping_change",CHECKOUT_AUTHORIZE:"process_checkout_authorize",CHECKOUT_CANCEL:"process_checkout_cancel"},b={IFRAME:"iframe"},w={BUTTON_LAYOUT:"button_layout",BUTTON_COLOR:"button_color",BUTTON_SIZE:"button_size",BUTTON_SHAPE:"button_shape",BUTTON_LABEL:"button_label",BUTTON_WIDTH:"button_width",BUTTON_TYPE:"button_type",BUTTON_TAGLINE_ENABLED:"button_tagline_enabled"}},function(n,t,e){"use strict";function r(){return window.navigator.mockUserAgent||window.navigator.userAgent}function o(n){return void 0===n&&(n=r()),n.indexOf("Opera Mini")>-1}function i(){if(window.document.documentMode)try{var n=window.status;return window.status="testIntranetMode","testIntranetMode"===window.status&&(window.status=n,!0)}catch(n){return!1}return!1}function u(n){return void 0===n&&(n=r()),!(function(n){return void 0===n&&(n=r()),!!function(n){return void 0===n&&(n=r()),/iPhone|iPod|iPad/.test(n)}(n)&&(!!function(n){return void 0===n&&(n=r()),/\bGSA\b/.test(n)}(n)||/.+AppleWebKit(?!.*Safari)/.test(n))}(n)||function(n){return void 0===n&&(n=r()),!!function(n){return void 0===n&&(n=r()),/Android/.test(n)}(n)&&/Version\/[\d.]+/.test(n)&&!o(n)}(n)||o(n)||function(n){return void 0===n&&(n=r()),/FxiOS/i.test(n)}(n)||function(n){return void 0===n&&(n=r()),/EdgiOS/i.test(n)}(n)||function(n){return void 0===n&&(n=r()),-1!==n.indexOf("FBAN")||-1!==n.indexOf("FBAV")}(n)||function(n){return void 0===n&&(n=r()),/QQBrowser/.test(n)}(n)||"undefined"!=typeof process&&process.versions&&process.versions.electron||(t=r(),/Macintosh.*AppleWebKit(?!.*Safari)/i.test(t))||!0===window.navigator.standalone||window.matchMedia("(display-mode: standalone)").matches);var t}var c=e(7),a=e(3),s=e(9);function d(n,t){for(var e=0;e<n.length;e++)try{if(n[e]===t)return e}catch(n){}return-1}var f,l=function(){function n(){if(this.name=void 0,this.weakmap=void 0,this.keys=void 0,this.values=void 0,this.name="__weakmap_"+(1e9*Math.random()>>>0)+"__",function(){if("undefined"==typeof WeakMap)return!1;if(void 0===Object.freeze)return!1;try{var n=new WeakMap,t={};return Object.freeze(t),n.set(t,"__testvalue__"),"__testvalue__"===n.get(t)}catch(n){return!1}}())try{this.weakmap=new WeakMap}catch(n){}this.keys=[],this.values=[]}var t=n.prototype;return t._cleanupClosedWindows=function(){for(var n=this.weakmap,t=this.keys,e=0;e<t.length;e++){var r=t[e];if(Object(s.d)(r)&&Object(s.e)(r)){if(n)try{n.delete(r)}catch(n){}t.splice(e,1),this.values.splice(e,1),e-=1}}},t.isSafeToReadWrite=function(n){return!Object(s.d)(n)},t.set=function(n,t){if(!n)throw new Error("WeakMap expected key");var e=this.weakmap;if(e)try{e.set(n,t)}catch(n){delete this.weakmap}if(this.isSafeToReadWrite(n))try{var r=this.name,o=n[r];return void(o&&o[0]===n?o[1]=t:Object.defineProperty(n,r,{value:[n,t],writable:!0}))}catch(n){}this._cleanupClosedWindows();var i=this.keys,u=this.values,c=d(i,n);-1===c?(i.push(n),u.push(t)):u[c]=t},t.get=function(n){if(!n)throw new Error("WeakMap expected key");var t=this.weakmap;if(t)try{if(t.has(n))return t.get(n)}catch(n){delete this.weakmap}if(this.isSafeToReadWrite(n))try{var e=n[this.name];return e&&e[0]===n?e[1]:void 0}catch(n){}this._cleanupClosedWindows();var r=d(this.keys,n);if(-1!==r)return this.values[r]},t.delete=function(n){if(!n)throw new Error("WeakMap expected key");var t=this.weakmap;if(t)try{t.delete(n)}catch(n){delete this.weakmap}if(this.isSafeToReadWrite(n))try{var e=n[this.name];e&&e[0]===n&&(e[0]=e[1]=void 0)}catch(n){}this._cleanupClosedWindows();var r=this.keys,o=d(r,n);-1!==o&&(r.splice(o,1),this.values.splice(o,1))},t.has=function(n){if(!n)throw new Error("WeakMap expected key");var t=this.weakmap;if(t)try{if(t.has(n))return!0}catch(n){delete this.weakmap}if(this.isSafeToReadWrite(n))try{var e=n[this.name];return!(!e||e[0]!==n)}catch(n){}return this._cleanupClosedWindows(),-1!==d(this.keys,n)},t.getOrSet=function(n,t){if(this.has(n))return this.get(n);var e=t();return this.set(n,e),e},n}();function p(n){if("function"==typeof btoa)return btoa(n);if("undefined"!=typeof Buffer)return Buffer.from(n,"utf8").toString("base64");throw new Error("Can not find window.btoa or Buffer")}function h(n){try{return JSON.stringify([].slice.call(n),function(n,t){return"function"==typeof t?"memoize["+function(n){if(f=f||new l,null==n||"object"!=typeof n&&"function"!=typeof n)throw new Error("Invalid object");var t,e=f.get(n);return e||(e=typeof n+":"+(t="0123456789abcdef","xxxxxxxxxx".replace(/./g,function(){return t.charAt(Math.floor(Math.random()*t.length))})+"_"+p((new Date).toISOString().slice(11,19).replace("T",".")).replace(/[^a-zA-Z0-9]/g,"").toLowerCase()),f.set(n,e)),e}(t)+"]":t})}catch(n){throw new Error("Arguments not serializable -- can not be used to memoize")}}function E(n,t){var e=this;void 0===t&&(t={});var r=new l,o=function(){for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];var u=r.getOrSet(t.thisNamespace?this:n,function(){return{}}),c=h(o),a=t.time;if(u[c]&&a&&Date.now()-u[c].time<a&&delete u[c],u[c])return u[c].value;var s=Date.now(),d=n.apply(this,arguments);return u[c]={time:s,value:d},u[c].value};return o.reset=function(){r.delete(t.thisNamespace?e:n)},t.name&&(o.displayName=t.name+":memoized"),o}function O(n,t,e){void 0===e&&(e=[]);var r=n.__inline_memoize_cache__=n.__inline_memoize_cache__||{},o=h(e);return r.hasOwnProperty(o)?r[o]:r[o]=t.apply(void 0,e)}function v(){}function b(n,t){if(void 0===t&&(t=1),t>=3)return"stringifyError stack overflow";try{if(!n)return"<unknown error: "+{}.toString.call(n)+">";if("string"==typeof n)return n;if(n instanceof Error){var e=n&&n.stack,r=n&&n.message;if(e&&r)return-1!==e.indexOf(r)?e:r+"\n"+e;if(e)return e;if(r)return r}return n&&n.toString&&"function"==typeof n.toString?n.toString():{}.toString.call(n)}catch(n){return"Error while stringifying error: "+b(n,t+1)}}function w(n){var t="<unknown error: "+{}.toString.call(n)+">";return n?n instanceof Error?n.message||t:"string"==typeof n.message&&n.message||t:t}function T(n,t){void 0===t&&(t=Boolean);var e={};for(var r in n)n.hasOwnProperty(r)&&t(n[r],r)&&(e[r]=n[r]);return e}function g(n,t){var e,r;return void 0===t&&(t=50),function(){r&&clearTimeout(r);var o=e=e||new a.a;return r=setTimeout(function(){e=null,r=null,a.a.try(n).then(function(n){o.resolve(n)},function(n){o.reject(n)})},t),o}}function A(n,t){var e;return function r(){e=setTimeout(function(){n(),r()},t)}(),{cancel:function(){clearTimeout(e)}}}function m(n,t){var e;return void 0===t&&(t=100),function(){var r=this,o=arguments;clearTimeout(e),e=setTimeout(function(){return n.apply(r,o)},t)}}var _={ENTER:13};function y(){return Boolean(document.body)&&"complete"===document.readyState}function I(n){return n.replace(/\?/g,"%3F").replace(/&/g,"%26").replace(/#/g,"%23").replace(/\+/g,"%2B")}function C(){return O(C,function(){return new a.a(function(n){if(y())return n();var t=setInterval(function(){if(y())return clearInterval(t),n()},10)})})}function S(n){return O(S,function(){var t={};if(!n)return t;if(-1===n.indexOf("="))return t;for(var e=0,r=n.split("&");e<r.length;e++){var o=r[e];(o=o.split("="))[0]&&o[1]&&(t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]))}return t},[n])}function N(n,t){return void 0===t&&(t={}),t&&Object.keys(t).length?(void 0===(e=Object(c.a)({},S(n),{},t))&&(e={}),Object.keys(e).filter(function(n){return"string"==typeof e[n]}).map(function(n){return I(n)+"="+I(e[n])}).join("&")):n;var e}function D(n,t){void 0===t&&(t={});var e,r,o=t.query||{},i=t.hash||{},u=n.split("#");r=u[1];var c=(e=u[0]).split("?");e=c[0];var a=N(c[1],o),s=N(r,i);return a&&(e=e+"?"+a),s&&(e=e+"#"+s),e}function R(n,t){return void 0===t&&(t=window),new a.a(function(e){t.location=n,function(n){return-1===n.indexOf("#")||0!==n.indexOf("#")&&n.split("#")[0]!==window.location.href.split("#")[0]}(n)||e()})}function j(){return O(j,function(){return Boolean(window.performance&&performance.now&&performance.timing&&performance.timing.connectEnd&&performance.timing.navigationStart&&Math.abs(performance.now()-Date.now())>1e3&&performance.now()-(performance.timing.connectEnd-performance.timing.navigationStart)>0)})}function P(){return C().then(function(){if(j()){var n=window.performance.timing;return n.connectEnd&&n.domInteractive?n.domInteractive-n.connectEnd:void 0}})}function U(){return"undefined"!=typeof window}function B(n,t){return void 0===t&&(t=window.document),[].slice.call(t.querySelectorAll(n))}function k(n,t){n.addEventListener("touchstart",v),n.addEventListener("click",t),n.addEventListener("keypress",function(n){if(n.keyCode===_.ENTER)return t(n)})}Object.create(Error.prototype);var M={CONTENT_TYPE:"content-type",ACCEPT:"accept"},L=[];function x(n){var t=n.url,e=n.method,r=void 0===e?"get":e,o=n.headers,i=void 0===o?{}:o,u=n.json,c=n.data,s=n.body,d=n.win,f=void 0===d?window:d,l=n.timeout,p=void 0===l?0:l;return new a.a(function(n,e){if(u&&c||u&&s||c&&u)throw new Error("Only options.json or options.data or options.body should be passed");for(var o={},a=0,d=Object.keys(i);a<d.length;a++){var l=d[a];o[l.toLowerCase()]=i[l]}u?o[M.CONTENT_TYPE]=o[M.CONTENT_TYPE]||"application/json":(c||s)&&(o[M.CONTENT_TYPE]=o[M.CONTENT_TYPE]||"application/x-www-form-urlencoded; charset=utf-8"),o[M.ACCEPT]=o[M.ACCEPT]||"application/json";for(var h=0;h<L.length;h++)for(var E=(0,L[h])(),O=0,v=Object.keys(E);O<v.length;O++){var b=v[O];o[b.toLowerCase()]=E[b]}var w=new f.XMLHttpRequest;for(var T in w.addEventListener("load",function(){var o=function(n){void 0===n&&(n="");for(var t={},e=0,r=n.trim().split("\n");e<r.length;e++){var o=r[e].split(":"),i=o[0],u=o.slice(1);t[i.toLowerCase()]=u.join(":").trim()}return t}(this.getAllResponseHeaders());if(!this.status)return e(new Error("Request to "+r.toLowerCase()+" "+t+" failed: no response status code."));var i=o["content-type"],u=i&&(0===i.indexOf("application/json")||0===i.indexOf("text/json")),c=this.responseText;try{c=JSON.parse(c)}catch(n){if(u)return e(new Error("Invalid json: "+this.responseText+"."))}return n({status:this.status,headers:o,body:c})},!1),w.addEventListener("error",function(n){e(new Error("Request to "+r.toLowerCase()+" "+t+" failed: "+n.toString()+"."))},!1),w.open(r,t,!0),o)o.hasOwnProperty(T)&&w.setRequestHeader(T,o[T]);u?s=JSON.stringify(u):c&&(s=Object.keys(c).map(function(n){return encodeURIComponent(n)+"="+(c?encodeURIComponent(c[n]):"")}).join("&")),w.timeout=p,w.ontimeout=function(){e(new Error("Request to "+r.toLowerCase()+" "+t+" has timed out"))},w.send(s)})}e.d(t,"g",function(){return i}),e.d(t,"s",function(){return u}),e.d(t,"c",function(){return D}),e.d(t,"n",function(){return R}),e.d(t,"d",function(){return P}),e.d(t,"f",function(){return U}),e.d(t,"m",function(){return B}),e.d(t,"k",function(){return k}),e.d(t,"a",function(){return p}),e.d(t,"h",function(){return E}),e.d(t,"e",function(){return O}),e.d(t,"i",function(){return v}),e.d(t,"q",function(){return b}),e.d(t,"r",function(){return w}),e.d(t,"j",function(){return T}),e.d(t,"l",function(){return g}),e.d(t,"p",function(){return A}),e.d(t,"b",function(){return m}),e.d(t,"o",function(){return x})},function(n,t,e){"use strict";function r(n){try{if(!n)return!1;if("undefined"!=typeof Promise&&n instanceof Promise)return!0;if("undefined"!=typeof window&&window.Window&&n instanceof window.Window)return!1;if("undefined"!=typeof window&&window.constructor&&n instanceof window.constructor)return!1;var t={}.toString;if(t){var e=t.call(n);if("[object Window]"===e||"[object global]"===e||"[object DOMWindow]"===e)return!1}if("function"==typeof n.then)return!0}catch(n){return!1}return!1}var o,i=[],u=[],c=0;function a(){if(!c&&o){var n=o;o=null,n.resolve()}}function s(){c+=1}function d(){c-=1,a()}var f=function(){function n(n){var t=this;if(this.resolved=void 0,this.rejected=void 0,this.errorHandled=void 0,this.value=void 0,this.error=void 0,this.handlers=void 0,this.dispatching=void 0,this.stack=void 0,this.resolved=!1,this.rejected=!1,this.errorHandled=!1,this.handlers=[],n){var e,r,o=!1,i=!1,u=!1;s();try{n(function(n){u?t.resolve(n):(o=!0,e=n)},function(n){u?t.reject(n):(i=!0,r=n)})}catch(n){return d(),void this.reject(n)}d(),u=!0,o?this.resolve(e):i&&this.reject(r)}}var t=n.prototype;return t.resolve=function(n){if(this.resolved||this.rejected)return this;if(r(n))throw new Error("Can not resolve promise with another promise");return this.resolved=!0,this.value=n,this.dispatch(),this},t.reject=function(n){var t=this;if(this.resolved||this.rejected)return this;if(r(n))throw new Error("Can not reject promise with another promise");if(!n){var e=n&&"function"==typeof n.toString?n.toString():{}.toString.call(n);n=new Error("Expected reject to be called with Error, got "+e)}return this.rejected=!0,this.error=n,this.errorHandled||setTimeout(function(){t.errorHandled||function(n,t){if(-1===i.indexOf(n)){i.push(n),setTimeout(function(){throw n},1);for(var e=0;e<u.length;e++)u[e](n,t)}}(n,t)},1),this.dispatch(),this},t.asyncReject=function(n){return this.errorHandled=!0,this.reject(n),this},t.dispatch=function(){var t=this,e=this.resolved,o=this.rejected,i=this.handlers;if(!this.dispatching&&(e||o)){this.dispatching=!0,s();for(var u=function(u){var c=i[u],a=c.onSuccess,s=c.onError,d=c.promise,f=void 0;if(e)try{f=a?a(t.value):t.value}catch(n){return d.reject(n),"continue"}else if(o){if(!s)return d.reject(t.error),"continue";try{f=s(t.error)}catch(n){return d.reject(n),"continue"}}f instanceof n&&(f.resolved||f.rejected)?(f.resolved?d.resolve(f.value):d.reject(f.error),f.errorHandled=!0):r(f)?f instanceof n&&(f.resolved||f.rejected)?f.resolved?d.resolve(f.value):d.reject(f.error):f.then(function(n){d.resolve(n)},function(n){d.reject(n)}):d.resolve(f)},c=0;c<i.length;c++)u(c);i.length=0,this.dispatching=!1,d()}},t.then=function(t,e){if(t&&"function"!=typeof t&&!t.call)throw new Error("Promise.then expected a function for success handler");if(e&&"function"!=typeof e&&!e.call)throw new Error("Promise.then expected a function for error handler");var r=new n;return this.handlers.push({promise:r,onSuccess:t,onError:e}),this.errorHandled=!0,this.dispatch(),r},t.catch=function(n){return this.then(void 0,n)},t.finally=function(t){if(t&&"function"!=typeof t&&!t.call)throw new Error("Promise.finally expected a function");return this.then(function(e){return n.try(t).then(function(){return e})},function(e){return n.try(t).then(function(){throw e})})},t.timeout=function(n,t){var e=this;if(this.resolved||this.rejected)return this;var r=setTimeout(function(){e.resolved||e.rejected||e.reject(t||new Error("Promise timed out after "+n+"ms"))},n);return this.then(function(n){return clearTimeout(r),n})},t.toPromise=function(){if("undefined"==typeof Promise)throw new TypeError("Could not find Promise");return Promise.resolve(this)},n.resolve=function(t){return t instanceof n?t:r(t)?new n(function(n,e){return t.then(n,e)}):(new n).resolve(t)},n.reject=function(t){return(new n).reject(t)},n.asyncReject=function(t){return(new n).asyncReject(t)},n.all=function(t){var e=new n,o=t.length,i=[];if(!o)return e.resolve(i),e;for(var u=function(u){var c=t[u];if(c instanceof n){if(c.resolved)return i[u]=c.value,o-=1,"continue"}else if(!r(c))return i[u]=c,o-=1,"continue";n.resolve(c).then(function(n){i[u]=n,0==(o-=1)&&e.resolve(i)},function(n){e.reject(n)})},c=0;c<t.length;c++)u(c);return 0===o&&e.resolve(i),e},n.hash=function(t){var e={};return n.all(Object.keys(t).map(function(r){return n.resolve(t[r]).then(function(n){e[r]=n})})).then(function(){return e})},n.map=function(t,e){return n.all(t.map(e))},n.onPossiblyUnhandledException=function(n){return function(n){return u.push(n),{cancel:function(){u.splice(u.indexOf(n),1)}}}(n)},n.try=function(t,e,r){if(t&&"function"!=typeof t&&!t.call)throw new Error("Promise.try expected a function");var o;s();try{o=t.apply(e,r||[])}catch(t){return d(),n.reject(t)}return d(),n.resolve(o)},n.delay=function(t){return new n(function(n){setTimeout(n,t)})},n.isPromise=function(t){return!!(t&&t instanceof n)||r(t)},n.flush=function(){return t=o=o||new n,a(),t;var t},n}();e.d(t,"a",function(){return f})},function(n,t,e){"use strict";var r=e(3),o=e(2);function i(){return new r.a(o.i)}function u(){return r.a.resolve()}function c(n){var t=document.createElement("img");t.src=n,t.style.visibility="hidden",t.style.position="absolute",document.body&&document.body.appendChild(t)}var a=e(7),s={DEBUG:"debug",INFO:"info",WARN:"warn",ERROR:"error"},d={FILE:"file:"},f=[s.WARN,s.ERROR],l=[s.ERROR,s.WARN,s.INFO,s.DEBUG],p=6e4,h=s.WARN;function E(n){var t=n.url,e=n.method,r=n.headers,i=n.json;return Object(o.o)({url:t,method:e,headers:r,json:i}).then(o.i)}function O(n,t){for(var e in t)t.hasOwnProperty(e)&&t[e]&&!n[e]&&(n[e]=t[e])}var v=e(0),b=e(6),w=e(1);function T(){return Object(o.e)(T,function(){return function(n){var t=n.url,e=n.prefix,i=n.logLevel,u=void 0===i?h:i,c=n.transport,v=void 0===c?E:c,b=n.flushInterval,w=void 0===b?p:b,T=[],g=[],A=[],m=[],_=[],y=[];function I(n,t,e){if(Object(o.f)()&&window.console&&window.console.log){var r=u;if(window.LOG_LEVEL&&-1!==l.indexOf(window.LOG_LEVEL)&&(r=window.LOG_LEVEL),!(l.indexOf(n)>l.indexOf(r))){var i=[t];i.push(e),(e.error||e.warning)&&i.push("\n\n",e.error||e.warning);try{window.console[n]&&window.console[n].apply?window.console[n].apply(window.console,i):window.console.log&&window.console.log.apply&&window.console.log.apply(window.console,i)}catch(n){}}}}function C(){return r.a.try(function(){if(Object(o.f)()&&window.location.protocol!==d.FILE&&(T.length||g.length)){for(var n={},e=0;e<m.length;e++)O(n,(0,m[e])(n));for(var r={},i=0;i<y.length;i++)O(r,(0,y[i])(r));var u=v({method:"POST",url:t,headers:r,json:{events:T,meta:n,tracking:g}});return T=[],g=[],u.then(o.i)}})}var S=Object(o.l)(C);function N(n,t,r){if(void 0===r&&(r={}),!Object(o.f)())return R;e&&(t=e+"_"+t);for(var i=Object(a.a)({},Object(o.j)(r),{timestamp:Date.now().toString()}),u=0;u<A.length;u++)O(i,(0,A[u])(i));return function(n,t,e){T.push({level:n,event:t,payload:i}),-1!==f.indexOf(n)&&S()}(n,t),I(n,t,i),R}function D(n,t){return n.push(t),R}Object(o.f)()&&Object(o.p)(S,w);var R={debug:function(n,t){return N(s.DEBUG,n,t)},info:function(n,t){return N(s.INFO,n,t)},warn:function(n,t){return N(s.WARN,n,t)},error:function(n,t){return N(s.ERROR,n,t)},track:function(n){if(void 0===n&&(n={}),!Object(o.f)())return R;for(var t=Object(o.j)(n),e=0;e<_.length;e++)O(t,(0,_[e])(t));return I(s.DEBUG,"track",t),g.push(t),R},flush:S,immediateFlush:C,addPayloadBuilder:function(n){return D(A,n)},addMetaBuilder:function(n){return D(m,n)},addTrackingBuilder:function(n){return D(_,n)},addHeaderBuilder:function(n){return D(y,n)},setTransport:function(n){return v=n,R}};return R}({url:b.f})})}function g(n){var t=n.env,e=n.sessionID,i=n.buttonSessionID,u=n.clientID,c=n.partnerAttributionID,a=n.commit,s=n.correlationID,d=n.locale,f=n.merchantID,l=n.merchantDomain,p=T();p.addPayloadBuilder(function(){return{referer:window.location.host,uid:e,env:t}}),p.addTrackingBuilder(function(){var n,t=d.lang,r=d.country;return(n={})[v.d.CONTEXT_TYPE]=w.f.BUTTON_SESSION_ID,n[v.d.CONTEXT_ID]=i,n[v.d.STATE]=w.g.BUTTON,n[v.d.FEED]=v.c.PAYMENTS_SDK,n[v.d.DATA_SOURCE]=v.b.PAYMENTS_SDK,n[v.d.CLIENT_ID]=u,n[v.d.SELLER_ID]=f[0],n[v.d.SESSION_UID]=e,n[v.d.REFERER]=window.location.host,n[v.d.MERCHANT_DOMAIN]=l,n[v.d.LOCALE]=t+"_"+r,n[v.d.INTEGRATION_IDENTIFIER]=u,n[v.d.PARTNER_ATTRIBUTION_ID]=c,n[v.d.SDK_NAME]=v.e.PAYMENTS_SDK,n[v.d.SDK_VERSION]=window.paypal.version,n[v.d.USER_AGENT]=window.navigator&&window.navigator.userAgent,n[v.d.USER_ACTION]=a?v.f.COMMIT:v.f.CONTINUE,n[v.d.CONTEXT_CORRID]=s,n}),r.a.onPossiblyUnhandledException(function(n){var t;p.track(((t={})[v.d.ERROR_CODE]="payments_sdk_error",t[v.d.ERROR_DESC]=Object(o.r)(n),t)),p.error("unhandled_error",{err:Object(o.q)(n)}),p.flush().catch(o.i)})}e.d(t,"e",function(){return i}),e.d(t,"b",function(){return u}),e.d(t,"c",function(){return c}),e.d(t,"a",function(){return T}),e.d(t,"d",function(){return g})},function(n,t,e){"use strict";var r,o=e(3),i=e(2),u=e(6),c=e(4),a=e(1),s=e(8);function d(n){return Object(i.e)(d,function(){Object(c.a)().info("rest_api_create_access_token");var t=Object(i.a)(n+":");return Object(i.o)({method:"post",url:u.b,headers:{Authorization:"Basic "+t},data:{grant_type:"client_credentials"}}).then(function(t){var e=t.body;if(e&&"invalid_client"===e.error)throw new Error("Auth Api invalid client id: "+n+":\n\n"+JSON.stringify(e,null,4));if(!e||!e.access_token)throw new Error("Auth Api response error:\n\n"+JSON.stringify(e,null,4));return e.access_token})},[n])}Object(s.a)(function(){var n;return(n={})[a.a]=r,n});var f=Object(i.h)(function(n){return o.a.try(function(){n&&(r=n)})}),l=e(7),p=e(0);function h(n,t){if(Object(c.a)().info("rest_api_create_order_token"),!n)throw new Error("Access token not passed");if(!t)throw new Error("Expected order details to be passed");var e=window.xprops.currency,r=window.xprops.intent,o=window.xprops.merchantID;if((t=Object(l.a)({},t)).intent&&t.intent.toLowerCase()!==r)throw new Error("Unexpected intent: "+t.intent+" passed to order.create. Please ensure you are passing /sdk/js?"+p.i.INTENT+"="+t.intent.toLowerCase()+" in the paypal script tag.");(t=Object(l.a)({},t,{intent:r.toUpperCase()})).purchase_units=t.purchase_units.map(function(n){if(n.amount.currency_code&&n.amount.currency_code!==e)throw new Error("Unexpected currency: "+n.amount.currency_code+" passed to order.create. Please ensure you are passing /sdk/js?"+p.i.CURRENCY+"="+n.amount.currency_code+" in the paypal script tag.");var t=n.payee;if(t){if(!o)throw new Error("Pass "+p.i.MERCHANT_ID+"=XYZ in the paypal script tag. Pass "+p.i.MERCHANT_ID+"="+p.j+" if you do not have access to the merchant id");if(t.merchant_id&&o[0]!==p.j&&t.merchant_id!==o[0])throw new Error('Expected payee.merchant_id to be "'+o[0]+'"')}return o&&o[0]!==p.j&&(t=Object(l.a)({},t,{merchant_id:o[0]})),Object(l.a)({},n,{payee:t,amount:Object(l.a)({},n.amount,{currency_code:e})})}),t.application_context=t.application_context||{};var s={Authorization:"Bearer "+n,"PayPal-Partner-Attribution-Id":window.xprops.partnerAttributionID};return Object(i.o)({method:"post",url:u.g,headers:s,json:t}).then(function(n){var t,e=n.body,r=e&&e.id;if(!r)throw new Error("Order Api response error:\n\n"+JSON.stringify(e,null,4));return Object(c.a)().track(((t={})[p.d.STATE]=a.g.BUTTON,t[p.d.TRANSITION]=a.h.CREATE_ORDER,t[p.d.CONTEXT_TYPE]=a.f.ORDER_ID,t[p.d.TOKEN]=r,t[p.d.CONTEXT_ID]=r,t)),r})}function E(n){return Object(s.c)({url:u.a.ORDER+"/"+n})}function O(n){return Object(s.c)({method:"post",url:u.a.ORDER+"/"+n+"/capture"})}function v(n){return Object(s.c)({method:"post",url:u.a.ORDER+"/"+n+"/authorize"})}function b(n,t){return Object(s.c)({method:"post",url:u.a.ORDER+"/"+n+"/patch",json:{data:{patch:t}}})}function w(n){return Object(s.c)({url:u.a.CHECKOUT+"/"+n+"/payee"})}var T={THREE_DOMAIN_SECURE:"3D_SECURE"};function g(n){var t,e=n.clientAccessToken,r=n.orderID,o=n.paymentMethodID,s=n.enableThreeDomainSecure;Object(c.a)().info("rest_api_create_order_token");var d=((t={})[a.j.AUTHORIZATION]="Bearer "+e,t[a.j.PARTNER_ATTRIBUTION_ID]=window.xprops.partnerAttributionID,t[a.j.CLIENT_METADATA_ID]=window.xprops.buttonSessionID,t),f={token:{id:o,type:"NONCE"}};s&&(f.contingencies=[T.THREE_DOMAIN_SECURE]);var l={payment_source:f};return Object(i.o)({method:"post",url:u.g+"/"+r+"/"+u.h,headers:d,json:l})}function A(n){return Object(s.c)({method:"post",url:u.a.PAYMENT+"/"+n+"/ectoken"}).then(function(n){return n.token})}function m(n){return Object(s.c)({method:"post",url:u.a.SUBSCRIPTION+"/"+n+"/cartid"}).then(function(n){return n.token})}function _(n){var t,e=n.orderID,r=n.clientAccessToken;return Object(s.b)({query:"\n            mutation EnableVault(\n                $orderID : String!\n            ) {\n                enableVault(\n                    token: $orderID\n                )\n            }\n        ",variables:{orderID:e},headers:(t={},t[a.j.ACCESS_TOKEN]=r,t)})}function y(n){var t=n.orderID,e=n.fundingSource,r=n.integrationArtifact,o=n.userExperienceFlow,u=n.productFlow;return Object(s.b)({query:"\n            mutation UpdateClientConfig(\n                $orderID : String!,\n                $fundingSource : ButtonFundingSourceType!,\n                $integrationArtifact : IntegrationArtifactType!,\n                $userExperienceFlow : UserExperienceFlowType!,\n                $productFlow : ProductFlowType!\n            ) {\n                updateClientConfig(\n                    token: $orderID,\n                    fundingSource: $fundingSource,\n                    integrationArtifact: $integrationArtifact,\n                    userExperienceFlow: $userExperienceFlow,\n                    productFlow: $productFlow\n                )\n            }\n        ",variables:{orderID:t,fundingSource:e,integrationArtifact:r,userExperienceFlow:o,productFlow:u}}).then(i.i)}function I(n,t){if(Object(c.a)().info("rest_api_create_subscription_id"),!n)throw new Error("Access token not passed");if(!t)throw new Error("Expected subscription payload to be passed");var e={Authorization:"Bearer "+n,"PayPal-Partner-Attribution-Id":window.xprops.partnerAttributionID};return Object(i.o)({method:"post",url:u.d,headers:e,json:t}).then(function(n){var t=n.body;if(!t||!t.id)throw new Error("Create Subscription Api response error:\n\n"+JSON.stringify(t,null,4));return t.id})}function C(n,t,e){if(Object(c.a)().info("rest_api_create_subscription_id"),!n)throw new Error("Access token not passed");if(!t)throw new Error("Expected subscription id to be passed as first argument to revise subscription api");if(!e)throw new Error("Expected subscription payload to be passed");var r={Authorization:"Bearer "+n,"PayPal-Partner-Attribution-Id":window.xprops.partnerAttributionID};return Object(i.o)({method:"post",url:u.d+"/"+t+"/revise",headers:r,json:e}).then(function(n){var e=n.status;if(200!==e)throw new Error("Revise Subscription Api HTTP-"+e+" response: error:\n\n"+JSON.stringify(n.body,null,4));return t})}function S(n){return Object(s.c)({method:"post",url:u.a.SUBSCRIPTION+"/"+n+"/activate"})}function N(n){return Object(s.c)({url:u.a.SUBSCRIPTION+"/"+n})}e.d(t,"e",function(){return d}),e.d(t,"m",function(){return f}),e.d(t,"f",function(){return h}),e.d(t,"i",function(){return E}),e.d(t,"d",function(){return O}),e.d(t,"b",function(){return v}),e.d(t,"l",function(){return b}),e.d(t,"j",function(){return w}),e.d(t,"q",function(){return g}),e.d(t,"c",function(){return A}),e.d(t,"o",function(){return m}),e.d(t,"h",function(){return _}),e.d(t,"p",function(){return y}),e.d(t,"g",function(){return I}),e.d(t,"n",function(){return C}),e.d(t,"a",function(){return S}),e.d(t,"k",function(){return N})},function(n,t,e){"use strict";e.d(t,"f",function(){return r}),e.d(t,"b",function(){return o}),e.d(t,"g",function(){return i}),e.d(t,"d",function(){return u}),e.d(t,"h",function(){return c}),e.d(t,"a",function(){return a}),e.d(t,"e",function(){return s}),e.d(t,"c",function(){return d});var r="/xoplatform/logger/api/logger",o="/v1/oauth2/token",i="/v2/checkout/orders",u="/v1/billing/subscriptions",c="validate-payment-method",a={AUTH:"/smart/api/auth",CHECKOUT:"/smart/api/checkout",ORDER:"/smart/api/order",PAYMENT:"/smart/api/payment",SUBSCRIPTION:"/smart/api/billagmt/subscriptions",GRAPHQL:"/graphql"},s={CHECKOUT:"/checkoutnow"},d=["Af3YaeRfoJGtncwLeiahT93xTYT0-wldEEaiGehhGspP333r6tADvHeVCwZPR022F4d0YQquv7Lik_PT","AbHo6hBEDmCHulDhRMkCVk7FDed5zE1-mNo7SQvo_yxeLvGylM5mGh5IOjx0AV9sTHhHDjD4A443Dybb","AcjM7hAZjUAqIgU0Lvzneb9-_rWs7qAEl6PoPVHtQV5PNmWBihQWsu_SglKO","Af_pMiA6ikCtlsNB8dJW1oG1ZI7FirXbRU43rDRfq_i_iQAPbYsojeI9Q2VzZvD1u2wKEPuaokZaNWyC","AQAZZuAP5V0b8Wzs1t3KJM3opK8ueK6Txnlm7pw6kMFHrcAdFogBw3pBmeNP-234aHAZ2BlHeijkU2Tt","Aef8KpflK3t-pTjstogUtqzAuk1IRGHpkdBTxyTWeARwqXyuRrX5Uj-Bs6KdMwK1g8ZhitjzfJ5jh6K7","ARcLSr40hevzVXTnnNpHochqg9lsyznO2UugwjyCpt4MPnAmxgyLGC2Ia7aufLH1jS8BhOIZBnXqhOfP","AYiXLQVgLszolhHbiYAm2HZERgDF5BOPXG7i4m9BNsTTSdmWhVu2Np4_GqDJLrl5VA50VDAlMMpCMArb","ARbpxmp0udlm2zBPu6bqW6PAMV-UfCTktgWFtJ0cy1rKQUUtIRffwg1A-i0wRyFg9BhbfZM3M6ci6czP","AeHvO7dLYAlLLnkZWxCTvHgSBMoFRn-bu1Wy9kjEXZVb8wYZPRpEykxDhLQ0WjgUPQz_MeF1e1FnH4mT","Abi2EEJv7o1v6GKAE1nNVgeNqBWLYXSiDoAKi-ADKU6uRPi_41GJEMr5rjZC8fuQxAC-MVEPYSfYsfzD","AW9fGl1zpjGSB474VARpj8j0hyEzrwNY7WgJCtwStaVVYkiyixnX4Z3KSe9A0jPLOcKj_2B9lHon1nAR","ARBlYB7bfFnpO5IgprEW0PqtBSZOn1Q0Jly-3r_IzMEU8sPq0fdNrk1D4JgHAitxDBxfuL6wDpDvTZgU","AZNQsMt_Ho-GClAUCvZVuKyz-n5rRhZyEBL2yTTetPV-lTqQE2_4quG6-ADlBMZoAgnG-yccas62Hqg2"]},function(n,t,e){"use strict";function r(){return(r=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n}).apply(this,arguments)}e.d(t,"a",function(){return r})},function(n,t,e){"use strict";e.d(t,"a",function(){return a}),e.d(t,"c",function(){return s}),e.d(t,"b",function(){return d});var r=e(7),o=(e(3),e(2)),i=e(6),u=e(1),c=[];function a(n){c.push(n)}function s(n){for(var t,e=n.url,i=n.method,a=void 0===i?"get":i,s=n.json,d=((t={})[u.j.SOURCE]=u.n,t[u.j.REQUESTED_BY]=u.o,t),f=0;f<c.length;f++){var l=c[f];d=Object(r.a)({},d,{},l())}return Object(o.o)({url:e,method:a,headers:d,json:s}).then(function(n){var t=n.status,r=n.body;if("contingency"===r.ack){var o=new Error(r.contingency);throw o.data=r.data,o}if(t>400)throw new Error("Api: "+e+" returned status code: "+t);if("success"!==r.ack)throw new Error("Api: "+e+" returned ack: "+r.ack);return r.data})}function d(n){var t=n.query,e=n.variables,u=void 0===e?{}:e,c=n.headers,a=void 0===c?{}:c;return Object(o.o)({url:i.a.GRAPHQL,method:"POST",json:{query:t,variables:u},headers:Object(r.a)({},a)}).then(function(n){var t=n.status,e=n.body,r=e.errors||[];if(r.length){var o=r[0].message||JSON.stringify(r[0]);throw new Error(o)}if(200!==t)throw new Error(i.a.GRAPHQL+" returned status "+t);return e})}},function(n,t,e){"use strict";var r={MOCK:"mock:",FILE:"file:",ABOUT:"about:"},o="Call was rejected by callee.\r\n";function i(n){return void 0===n&&(n=window),n.location.protocol===r.ABOUT}function u(n){if(void 0===n&&(n=window),n)try{if(n.parent&&n.parent!==n)return n.parent}catch(n){}}function c(n){try{return!0}catch(n){}return!1}function a(n){var t=(n=n||window).location;if(!t)throw new Error("Can not read window location");var e=t.protocol;if(!e)throw new Error("Can not read window protocol");if(e===r.FILE)return r.FILE+"//";if(e===r.ABOUT){var o=u(n);return o&&c()?a(o):r.ABOUT+"//"}var i=t.host;if(!i)throw new Error("Can not read window host");return e+"//"+i}function s(n){var t=a(n=n||window);return t&&n.mockDomain&&0===n.mockDomain.indexOf(r.MOCK)?n.mockDomain:t}function d(n,t){if(!n||!t)return!1;var e=u(t);return e?e===n:-1!==function(n){var t=[];try{for(;n.parent!==n;)t.push(n.parent),n=n.parent}catch(n){}return t}(t).indexOf(n)}function f(n){if(n){try{if(n.top)return n.top}catch(n){}if(u(n)===n)return n;try{if(d(window,n)&&window.top)return window.top}catch(n){}try{if(d(n,window)&&window.top)return window.top}catch(n){}for(var t=0,e=function n(t){for(var e=[],r=0,o=function(n){var t,e,r=[];try{t=n.frames}catch(e){t=n}try{e=t.length}catch(n){}if(0===e)return r;if(e){for(var o=0;o<e;o++){var i=void 0;try{i=t[o]}catch(n){continue}r.push(i)}return r}for(var u=0;u<100;u++){var c=void 0;try{c=t[u]}catch(n){return r}if(!c)return r;r.push(c)}return r}(t);r<o.length;r++){var i=o[r];e.push(i);for(var u=0,c=n(i);u<c.length;u++)e.push(c[u])}return e}(n);t<e.length;t++){var r=e[t];try{if(r.top)return r.top}catch(n){}if(u(r)===r)return r}}}var l=[],p=[];function h(n,t){void 0===t&&(t=!0);try{if(n===window)return!1}catch(n){return!0}try{if(!n)return!0}catch(n){return!0}try{if(n.closed)return!0}catch(n){return!n||n.message!==o}if(t&&function(n){if(!function(n){try{if(n===window)return!0}catch(n){}try{var t=Object.getOwnPropertyDescriptor(n,"location");if(t&&!1===t.enumerable)return!1}catch(n){}try{if(i(n)&&c())return!0}catch(n){}try{if(a(n)===a(window))return!0}catch(n){}return!1}(n))return!1;try{if(n===window)return!0;if(i(n)&&c())return!0;if(s(window)===s(n))return!0}catch(n){}return!1}(n))try{if(n.mockclosed)return!0}catch(n){}try{if(!n.parent||!n.top)return!0}catch(n){}var e=function(n,t){for(var e=0;e<n.length;e++)try{if(n[e]===t)return e}catch(n){}return-1}(l,n);if(-1!==e){var r=p[e];if(r&&function(n){if(!n.contentWindow)return!0;if(!n.parentNode)return!0;var t=n.ownerDocument;return!(!t||!t.documentElement||t.documentElement.contains(n))}(r))return!0}return!1}function E(n){if(function(){for(var n=0;n<l.length;n++){var t=!1;try{t=l[n].closed}catch(n){}t&&(p.splice(n,1),l.splice(n,1))}}(),n&&n.contentWindow)try{l.push(n.contentWindow),p.push(n)}catch(n){}}function O(n){try{if(n===window)return!0}catch(n){if(n&&n.message===o)return!0}try{if("[object Window]"==={}.toString.call(n))return!0}catch(n){if(n&&n.message===o)return!0}try{if(window.Window&&n instanceof window.Window)return!0}catch(n){if(n&&n.message===o)return!0}try{if(n&&n.self===n)return!0}catch(n){if(n&&n.message===o)return!0}try{if(n&&n.parent===n)return!0}catch(n){if(n&&n.message===o)return!0}try{if(n&&n.top===n)return!0}catch(n){if(n&&n.message===o)return!0}try{if(n&&"__unlikely_value__"===n.__cross_domain_utils_window_check__)return!1}catch(n){return!0}return!1}e.d(t,"b",function(){return u}),e.d(t,"a",function(){return s}),e.d(t,"c",function(){return f}),e.d(t,"e",function(){return h}),e.d(t,"f",function(){return E}),e.d(t,"d",function(){return O})},function(n,t,e){"use strict";e.d(t,"c",function(){return i}),e.d(t,"e",function(){return u}),e.d(t,"b",function(){return c}),e.d(t,"a",function(){return a}),e.d(t,"d",function(){return s}),e(0);var r=e(2),o=e(1);function i(){return Object(r.m)("[ "+o.d.FUNDING_SOURCE+" ]")}function u(n){var t=n.getAttribute(o.d.FUNDING_SOURCE),e=n.getAttribute(o.d.PAYMENT_METHOD_ID);return{fundingSource:t,card:n.getAttribute(o.d.CARD),paymentMethodID:e}}function c(n){n.classList.add(o.b.LOADING)}function a(n){n.classList.remove(o.b.LOADING)}function s(){var n="";return document.body&&(n=document.body.getAttribute("data-nonce")||""),n}},function(n,t,e){"use strict";e.d(t,"a",function(){return r}),e(3);var r={PAYMENT:"payment",CANCEL:"cancel"}},function(n,t,e){"use strict";e.r(t),e(22);var r=e(23);e.d(t,"getGlobalProps",function(){return r.b}),e.d(t,"getButtonCallbackProps",function(){return r.a});var o=e(14);e.d(t,"buildXCreateOrderData",function(){return o.b}),e.d(t,"buildXCreateOrderActions",function(){return o.a}),e.d(t,"getCreateOrder",function(){return o.c});var i=e(20);e.d(t,"buildXCreateBillingAgreementData",function(){return i.b}),e.d(t,"buildXCreateBillingAgreementActions",function(){return i.a}),e.d(t,"getCreateBillingAgreement",function(){return i.c});var u=e(21);e.d(t,"buildXCreateSubscriptionData",function(){return u.b}),e.d(t,"buildXCreateSubscriptionActions",function(){return u.a}),e.d(t,"getCreateSubscription",function(){return u.c});var c=e(15);e.d(t,"getOnApprove",function(){return c.a});var a=e(13);e.d(t,"buildXOnInitData",function(){return a.b}),e.d(t,"buildXOnInitActions",function(){return a.a}),e.d(t,"getOnInit",function(){return a.c});var s=e(16);e.d(t,"buildXOnCancelData",function(){return s.b}),e.d(t,"buildXOnCancelActions",function(){return s.a}),e.d(t,"getOnCancel",function(){return s.c});var d=e(17);e.d(t,"buildXOnShippingChangeData",function(){return d.a}),e.d(t,"buildXShippingChangeActions",function(){return d.b}),e.d(t,"getOnShippingChange",function(){return d.c});var f=e(18);e.d(t,"buildXOnClickData",function(){return f.b}),e.d(t,"buildXOnClickActions",function(){return f.a}),e.d(t,"getOnClick",function(){return f.c});var l=e(19);e.d(t,"getOnAuth",function(){return l.a});var p=e(24);for(var h in p)["getGlobalProps","getButtonCallbackProps","buildXCreateOrderData","buildXCreateOrderActions","getCreateOrder","buildXCreateBillingAgreementData","buildXCreateBillingAgreementActions","getCreateBillingAgreement","buildXCreateSubscriptionData","buildXCreateSubscriptionActions","getCreateSubscription","getOnApprove","buildXOnInitData","buildXOnInitActions","getOnInit","buildXOnCancelData","buildXOnCancelActions","getOnCancel","buildXOnShippingChangeData","buildXShippingChangeActions","getOnShippingChange","buildXOnClickData","buildXOnClickActions","getOnClick","getOnAuth","default"].indexOf(h)<0&&function(n){e.d(t,n,function(){return p[n]})}(h);var E=e(11);e.d(t,"POPUP_BRIDGE_OPTYPE",function(){return E.a})},function(n,t,e){"use strict";e.d(t,"b",function(){return o}),e.d(t,"a",function(){return i}),e.d(t,"c",function(){return u});var r=e(3);function o(){return{}}function i(n){return{enable:function(){return r.a.try(function(){return n(!0)})},disable:function(){return r.a.try(function(){return n(!1)})}}}function u(n){var t=n.onInit;return function(){var n=!0;return{promise:r.a.try(function(){if(t)return t({},i(function(t){n=t}))}),isEnabled:function(){return n}}}}},function(n,t,e){"use strict";e.d(t,"b",function(){return s}),e.d(t,"a",function(){return d}),e.d(t,"c",function(){return f});var r=e(3),o=e(2),i=e(0),u=e(5),c=e(1),a=e(4);function s(){return{}}function d(n){var t=n.clientID;return{order:{create:function(n){return Object(u.e)(t).then(function(t){return Object(u.f)(t,n)})}}}}function f(n,t){var e=t.createBillingAgreement,s=t.createSubscription,f=n.createOrder,l=n.buttonSessionID,p={},h=d({clientID:n.clientID});return Object(o.h)(function(){return r.a.try(function(){return e?e().then(u.c):s?s().then(u.o):f?f(p,h):h.order.create({purchase_units:[{amount:{currency_code:"USD",value:"0.01"}}]})}).then(function(n){var t;if(!n||"string"!=typeof n)throw new Error("Expected an order id to be passed");if(0===n.indexOf("PAY-")||0===n.indexOf("PAYID-"))throw new Error("Do not pass PAY-XXX or PAYID-XXX directly into createOrder. Pass the EC-XXX token instead");return Object(a.a)().track((t={},t[i.d.STATE]=c.g.BUTTON,t[i.d.TRANSITION]=c.h.RECEIVE_ORDER,t[i.d.CONTEXT_TYPE]=c.f.ORDER_ID,t[i.d.CONTEXT_ID]=n,t[i.d.BUTTON_SESSION_UID]=l,t)).flush(),n})})}},function(n,t,e){"use strict";e.d(t,"a",function(){return a});var r=e(2),o=e(0),i=e(5),u=e(1),c=e(4);function a(n,t){var e=t.createOrder,a=n.onApprove,s=n.onError,d=n.intent,f=n.buttonSessionID;return Object(r.h)(function(n,t){var l=n.payerID,p=n.paymentID,h=n.billingToken,E=n.subscriptionID,O=t.restart;return e().then(function(n){var t;Object(c.a)().info("button_authorize").track((t={},t[o.d.STATE]=u.g.BUTTON,t[o.d.TRANSITION]=u.h.CHECKOUT_AUTHORIZE,t[o.d.BUTTON_SESSION_UID]=f,t)).flush();var e={orderID:n,payerID:l,paymentID:p,billingToken:h,subscriptionID:E},v=function(n){var t=n.intent,e=n.orderID,a=n.restart,s=n.subscriptionID,d=function(n){if(n&&n.data&&n.data.details&&n.data.details.some(function(n){return n.issue===u.l.INSTRUMENT_DECLINED||n.issue===u.l.PAYER_ACTION_REQUIRED}))return a().then(c.e);throw new Error("Order could not be captured")},f=Object(r.h)(function(){return Object(i.i)(e)}),l=Object(r.h)(function(){if(t!==o.h.CAPTURE)throw new Error("Use "+o.i.INTENT+"="+o.h.CAPTURE+" to use client-side capture");return Object(i.d)(e).finally(f.reset).finally(l.reset).catch(d)}),p=Object(r.h)(function(){if(t!==o.h.AUTHORIZE)throw new Error("Use "+o.i.INTENT+"="+o.h.AUTHORIZE+" to use client-side authorize");return Object(i.b)(e).finally(f.reset).finally(p.reset).catch(d)}),h=Object(r.h)(function(){return Object(i.k)(s)}),E=Object(r.h)(function(){return Object(i.a)(s)});return{order:{capture:l,authorize:p,patch:function(n){return void 0===n&&(n=[]),Object(i.l)(e,n).catch(function(){throw new Error("Order could not be patched")})},get:f},subscription:{get:h,activate:E},restart:a,redirect:function(n){if(!n)throw new Error("Expected redirect url");if(-1===n.indexOf("://"))throw Object(c.a)().warn("redir_url_non_scheme",{url:n}).flush(),new Error("Invalid redirect url: "+n+" - must be fully qualified url");return n.match(/^https?:\/\//)||Object(c.a)().warn("redir_url_non_http",{url:n}).flush(),Object(r.n)(n,window.top)}}}({orderID:n,intent:d,restart:O,subscriptionID:E});return a?a(e,v).catch(s):d===o.h.CAPTURE?v.order.capture().then(r.i):d===o.h.AUTHORIZE?v.order.authorize().then(r.i):void 0})})}},function(n,t,e){"use strict";e.d(t,"b",function(){return c}),e.d(t,"a",function(){return a}),e.d(t,"c",function(){return s});var r=e(2),o=e(0),i=e(4),u=e(1);function c(n){return{orderID:n.orderID}}function a(){return{redirect:function(n){if(!n)throw new Error("Expected redirect url");if(-1===n.indexOf("://"))throw Object(i.a)().warn("redir_url_non_scheme",{url:n}).flush(),new Error("Invalid redirect url: "+n+" - must be fully qualified url");return n.match(/^https?:\/\//)||Object(i.a)().warn("redir_url_non_http",{url:n}).flush(),Object(r.n)(n,window.top)}}}function s(n,t){var e=t.createOrder,s=n.onCancel,d=void 0===s?r.i:s,f=n.onError,l=n.buttonSessionID;return Object(r.h)(function(){return e().then(function(n){var t;return Object(i.a)().info("button_cancel").track((t={},t[o.d.STATE]=u.g.BUTTON,t[o.d.TRANSITION]=u.h.CHECKOUT_CANCEL,t[o.d.BUTTON_SESSION_UID]=l,t)).flush(),d(c({orderID:n}),a())}).catch(function(n){return f(n)})})}},function(n,t,e){"use strict";e.d(t,"a",function(){return a}),e.d(t,"b",function(){return s}),e.d(t,"c",function(){return d});var r=e(3),o=e(0),i=e(5),u=e(1),c=e(4);function a(n){return n}function s(n){var t=n.orderID;return{resolve:function(){return r.a.resolve()},reject:n.actions.reject||function(){throw new Error("Missing reject action callback")},order:{patch:function(n){return void 0===n&&(n=[]),Object(i.l)(t,n).catch(function(){throw new Error("Order could not be patched")})}}}}function d(n,t){var e=t.createOrder,r=n.onShippingChange,i=n.buttonSessionID;if(r)return function(n,t){return e().then(function(e){var d;return Object(c.a)().info("button_shipping_change").track((d={},d[o.d.STATE]=u.g.BUTTON,d[o.d.TRANSITION]=u.h.CHECKOUT_SHIPPING_CHANGE,d[o.d.BUTTON_SESSION_UID]=i,d)).flush(),r(a(n),s({orderID:e,actions:t}))})}}},function(n,t,e){"use strict";e.d(t,"b",function(){return c}),e.d(t,"a",function(){return a}),e.d(t,"c",function(){return s});var r=e(3),o=e(0),i=e(4),u=e(1);function c(n){return{fundingSource:n.fundingSource}}function a(){return{resolve:function(){return r.a.try(function(){return!0})},reject:function(){return r.a.try(function(){return!1})}}}function s(n){var t=n.onClick,e=void 0===t?i.b:t,r=n.buttonSessionID;return function(n){var t,s=n.fundingSource;return Object(i.a)().info("button_click").track((t={},t[o.d.STATE]=u.g.BUTTON,t[o.d.TRANSITION]=u.h.BUTTON_CLICK,t[o.d.BUTTON_SESSION_UID]=r,t[o.d.CHOSEN_FUNDING]=s,t)).flush(),e(c({fundingSource:s}),a()).then(function(n){return!1!==n})}}},function(n,t,e){"use strict";e.d(t,"a",function(){return i});var r=e(3),o=e(5);function i(){return function(n){var t=n.accessToken;return r.a.try(function(){return Object(o.m)(t)})}}},function(n,t,e){"use strict";e.d(t,"b",function(){return o}),e.d(t,"a",function(){return i}),e.d(t,"c",function(){return u});var r=e(2);function o(){return{}}function i(){return{}}function u(n){var t=n.createBillingAgreement;if(t)return Object(r.h)(function(){return t({},{}).then(function(n){if(!n||"string"!=typeof n)throw new Error("Expected a billing token to be passed to createBillingAgreement");return n})})}},function(n,t,e){"use strict";e.d(t,"b",function(){return i}),e.d(t,"a",function(){return u}),e.d(t,"c",function(){return c});var r=e(2),o=e(5);function i(){return{}}function u(n){var t=n.clientID;return{subscription:{create:function(n){return Object(o.e)(t).then(function(t){return Object(o.g)(t,n)})},revise:function(n,e){return Object(o.e)(t).then(function(t){return Object(o.n)(t,n,e)})}}}}function c(n){var t=n.createSubscription,e=n.clientID;if(t)return Object(r.h)(function(){return t({},u({clientID:e})).then(function(n){if(!n||"string"!=typeof n)throw new Error("Expected an subscription id to be passed to createSubscription");return n})})}},function(n,t,e){"use strict";e(0)},function(n,t,e){"use strict";e.d(t,"b",function(){return h}),e.d(t,"a",function(){return E});var r=e(0),o=e(10),i=e(13),u=e(14),c=e(15),a=e(16),s=e(17),d=e(18),f=e(19),l=e(20),p=e(21);function h(n){var t=n.xprops,e=n.cspNonce,u=t.env,c=t.vault,a=t.commit,s=t.locale,d=t.sessionID,f=t.buttonSessionID,l=t.clientID,p=t.partnerAttributionID,h=t.correlationID,E=t.getParentDomain,O=t.clientAccessToken,v=t.buyerCountry,b=void 0===v?n.buyerGeoCountry||r.a.US:v,w=t.getPopupBridge,T=t.getPrerenderDetails,g=t.enableThreeDomainSecure,A=t.remember,m=t.onError;e=e||Object(o.d)();var _=Object(i.c)(t);return{env:u,vault:c,commit:a,clientAccessToken:O,buyerCountry:b,locale:s,cspNonce:e,sessionID:d,buttonSessionID:f,clientID:l,partnerAttributionID:p,correlationID:h,merchantDomain:E(),getPopupBridge:w,getPrerenderDetails:T,rememberFunding:A,enableThreeDomainSecure:g,onInit:_,onError:m}}function E(n){var t=n.xprops;if(t.createBillingAgreement){if(t.createOrder)throw new Error("Do not pass both createBillingAgreement and createOrder");if(!t.vault)throw new Error("Must pass vault=true to sdk to use createBillingAgreement")}if(t.createSubscription){if(t.createOrder)throw new Error("Do not pass both createSubscription and createOrder");if(t.createOrder)throw new Error("Do not pass both createSubscription and createBillingAgreement");if(!t.vault)throw new Error("Must pass vault=true to sdk to use createSubscription")}var e=Object(l.c)(t),r=Object(p.c)(t),o=Object(u.c)(t,{createBillingAgreement:e,createSubscription:r}),i=Object(c.a)(t,{createOrder:o}),h=Object(a.c)(t,{createOrder:o}),E=Object(s.c)(t,{createOrder:o});return{createOrder:o,createBillingAgreement:e,createSubscription:r,onApprove:i,onCancel:h,onClick:Object(d.c)(t),onAuth:Object(f.a)(),onShippingChange:E}}},function(n,t){},function(n,t,e){"use strict";var r=e(2),o=e(0),i=e(3),u=e(4),c=e(7),a=e(9),s=e(5),d=e(1),f=!1,l=!1;function p(n){var t=n.win,e=n.buttonSessionID,h=n.fundingSource,E=n.card,O=n.buyerCountry,v=n.createOrder,b=n.onApprove,w=n.onCancel,T=n.onAuth,g=n.onShippingChange,A=n.cspNonce,m=n.context,_=n.locale,y=n.commit,I=n.onError,C=n.vault,S=n.clientAccessToken,N=n.fundingEligibility,D=n.createBillingAgreement,R=n.createSubscription,j=n.validationPromise,P=void 0===j?i.a.resolve(!0):j;if(f)throw new Error("Checkout already rendered");var U=!1,B=Object(r.h)(function(){return p(Object(c.a)({},n,{context:d.c.IFRAME})).start().finally(u.e)}),k=window.paypal.Checkout({window:t,buttonSessionID:e,clientAccessToken:S,createOrder:function(){return P.then(function(n){return n?v().then(function(n){return function(n){var t=n.orderID,e=n.vault,r=n.clientAccessToken,u=n.createBillingAgreement,c=n.createSubscription,a=n.fundingSource,d=n.fundingEligibility;return i.a.try(function(){if(r)return function(n){var t=n.vault,e=n.fundingSource,r=n.fundingEligibility;if(!n.clientAccessToken)return!1;if(n.createBillingAgreement||n.createSubscription)return!1;var i=Boolean(r[e]&&r[e].vaultable);if(t&&!i)throw new Error("SDK received "+o.i.VAULT+"=true parameter, but "+e+" is not vaultable.");return!!t||!!i}({vault:e,clientAccessToken:r,createBillingAgreement:u,createSubscription:c,fundingSource:a,fundingEligibility:d})?Object(s.h)({orderID:t,clientAccessToken:r}).catch(function(n){if(e)throw n}):void 0})}({orderID:n,vault:C,clientAccessToken:S,fundingEligibility:N,fundingSource:h,createBillingAgreement:D,createSubscription:R}).then(function(){return n})}):Object(u.e)()})},onApprove:function(n){var t=n.payerID,e=n.paymentID,r=n.billingToken,o=n.subscriptionID;return U=!0,M().then(function(){return b({payerID:t,paymentID:e,billingToken:r,subscriptionID:o},{restart:B})})},onCancel:function(){return P.then(function(n){if(n)return M().then(function(){return w()})})},onError:I,onAuth:T,onClose:function(){return f=!1,P.then(function(n){if(n&&!U)return w()})},onShippingChange:g,fundingSource:h,card:E,buyerCountry:O,locale:_,commit:y,cspNonce:A}),M=k.close,L=k.onError;f=!0;var x=(0,k.renderTo)(function(){var n=Object(a.c)(window);return l&&n?n:window.xprops.getParent()}(),d.p.BODY,m),G=function(){return f=!1,M()};return{start:function(){return P.then(function(n){return n?x:G()}).then(r.i)},close:G,triggerError:L}}var h=!1;function E(n){Object(r.m)("["+d.d.CARD+"]").forEach(function(t){t.style.opacity=t.getAttribute(d.d.CARD)===n?"1":"0.1"})}var O=function(){var n=document.querySelector("#buttons-container"),t=document.querySelector('[data-funding-source="'+o.g.CARD+'"]'),e=document.querySelector("#card-fields-container");if(!n||!t||!e)throw new Error("Did not find card fields elements");return{buttonsContainer:n,cardButtonsContainer:t,cardFieldsContainer:e}},v=function(){var n=O(),t=n.buttonsContainer,e=n.cardButtonsContainer,o=n.cardFieldsContainer;if(!t||!e||!o)throw new Error("Required elements not found");o.style.minHeight="0px",o.style.display="block";var i=function(){t.style.marginTop=t.offsetTop-e.offsetTop+"px"};window.addEventListener("resize",Object(r.b)(function(){t.style.transitionDuration="0s",i()})),i()},b=function(){var n=O().buttonsContainer;Object(r.m)("["+d.d.CARD+"]").forEach(function(n){n.style.opacity="1"}),n.style.marginTop="0px"},w=e(6),T=e(11),g={COMMIT:"commit",CONTINUE:"continue"},A=e(12),m=e(10),_=e(8);function y(n){var t=n.fundingEligibility,e=n.buyerCountry,O=n.cspNonce,y=n.merchantID,I=n.personalization;if(!window.paypal)throw new Error("PayPal library not loaded");var C,S=Object(A.getGlobalProps)({xprops:window.xprops,buyerGeoCountry:e,cspNonce:O}),N=S.env,D=S.buttonSessionID,R=S.vault,j=S.commit,P=S.clientAccessToken,U=S.buyerCountry,B=S.locale,k=S.cspNonce,M=S.sessionID,L=S.clientID,x=S.partnerAttributionID,G=S.correlationID,H=S.enableThreeDomainSecure,F=S.merchantDomain,K=S.getPopupBridge,Y=S.getPrerenderDetails,W=S.rememberFunding,X=S.onError,V=S.onInit;Object(u.d)({env:N,sessionID:M,clientID:L,partnerAttributionID:x,commit:j,correlationID:G,locale:B,merchantID:y,buttonSessionID:D,merchantDomain:F});var Z,q=!1,z=function(n){var e=n.button,f=n.win,l=n.fundingSource,O=n.card,I=n.paymentMethodID;return i.a.try(function(){if(!q){q=!0;var n=Object(A.getButtonCallbackProps)({xprops:window.xprops}),S=n.createOrder,N=n.createBillingAgreement,M=n.onApprove,x=n.onCancel,G=n.onAuth,F=n.onShippingChange,K=n.createSubscription,Y=(0,n.onClick)({fundingSource:l});if(!C||!C.isEnabled())return f?f.close():null;var W=function(n){return!(n.win||!window.xprops.enableStandardCardFields||n.fundingSource!==o.g.CARD||n.vault||n.onShippingChange)}({win:f,vault:R,onShippingChange:F,fundingSource:l}),V=function(n){return!n.win&&!!n.paymentMethodID&&!n.onShippingChange}({win:f,paymentMethodID:I,onShippingChange:F}),z=function(n){return!n.win&&!!n.popupBridge&&!n.onShippingChange}({win:f,popupBridge:Z,onShippingChange:F});(V||z)&&Object(m.b)(e);var J=V?function(n){var t=n.createOrder,e=n.paymentMethodID,r=n.onApprove,o=n.clientAccessToken,u=n.enableThreeDomainSecure;if(!e)throw new Error("Payment method id required for vault capture");if(!o)throw new Error("Client access token required for vault capture");var c=function(){return i.a.try(function(){throw new Error("Vault capture restart not implemented")})};return{start:function(){return i.a.try(function(){return t()}).then(function(n){return Object(s.q)({clientAccessToken:o,orderID:n,paymentMethodID:e,enableThreeDomainSecure:u})}).then(function(n){return function(n){var t=n.status,e=n.body,r=n.createOrder;return i.a.try(function(){if(422===t&&e.links&&e.links.some(function(n){return"3ds-contingency-resolution"===n.rel}))return function(n){var t=n.createOrder,e=new i.a,r=window.paypal.ThreeDomainSecure({createOrder:t,onSuccess:function(){return e.resolve()},onCancel:function(){return e.reject(new Error("3DS cancelled"))},onError:function(n){return e.reject(n)}});return r.renderTo(window.parent,d.p.BODY).then(function(){return e}).finally(r.close)}({createOrder:r});if(200!==t)throw new Error("Validate payment failed with status: "+t)})}({status:n.status,body:n.body,createOrder:t})}).then(function(){return r({},{restart:c})})},close:function(){return i.a.resolve()},triggerError:function(n){throw n}}}({createOrder:S,paymentMethodID:I,onApprove:M,clientAccessToken:P,enableThreeDomainSecure:H}):W?function(n){var t=n.fundingSource,e=n.card,o=n.buyerCountry,i=n.createOrder,a=n.onApprove,s=n.onCancel,f=n.onAuth,l=n.onShippingChange,O=n.cspNonce,w=n.locale,T=n.commit,g=n.onError,A=n.buttonSessionID;if(!e)throw new Error("Card required to render card fields");if(h)return E(e),{start:u.b,close:u.b,triggerError:u.b};var m=Object(r.h)(function(){return p(Object(c.a)({},n,{context:d.c.IFRAME})).start().finally(u.e)}),_=window.paypal.CardFields({createOrder:i,fundingSource:t,card:e,onApprove:function(n){var t=n.payerID,e=n.paymentID,r=n.billingToken;return C().then(function(){return a({payerID:t,paymentID:e,billingToken:r},{restart:m})})},onCancel:s,onError:g,onAuth:f,onClose:function(){return h=!1,s()},onShippingChange:l,onCardTypeChange:function(n){E(n.card)},buttonSessionID:A,buyerCountry:o,locale:w,commit:T,cspNonce:O}),y=_.render,I=_.close;h=!0;var C=function(){return b(),I()};return{start:function(){h=!0;var n=y("#card-fields-container");return v(),E(e),n},close:C,triggerError:_.onError}}({buttonSessionID:D,fundingSource:l,card:O,buyerCountry:U,createOrder:S,onApprove:M,onCancel:x,onAuth:G,onShippingChange:F,cspNonce:k,locale:B,commit:j,onError:X,vault:R,clientAccessToken:P,fundingEligibility:t,createBillingAgreement:N,createSubscription:K}):z?function(n){var t=n.popupBridge,e=n.createOrder,o=n.onApprove,i=n.onCancel,c=n.commit,s=n.fundingSource;if(!t)throw new Error("Popup bridge required");return{start:function n(){return e().then(function(n){var e=Object(r.c)(""+Object(a.a)()+w.e.CHECKOUT,{query:{fundingSource:s,token:n,useraction:c?g.COMMIT:g.CONTINUE,redirect_uri:t.nativeUrl}});return t.start(e)}).then(function(t){var e=t.opType;if(e===T.a.PAYMENT)return o({payerID:t.PayerID,paymentID:t.paymentId,billingToken:t.ba_token},{restart:n});if(e===T.a.CANCEL)return i();throw new Error("Unhandleable opType: "+e)})},close:u.b,triggerError:function(n){throw n}}}({popupBridge:Z,fundingSource:l,createOrder:S,onApprove:M,onCancel:x,commit:j}):p({win:f,buttonSessionID:D,fundingSource:l,card:O,buyerCountry:U,createOrder:S,onApprove:M,onCancel:x,onAuth:G,onShippingChange:F,cspNonce:k,locale:B,commit:j,onError:X,vault:R,clientAccessToken:P,fundingEligibility:t,validationPromise:Y,createBillingAgreement:N,createSubscription:K}),Q=J.start,$=J.close,nn=J.triggerError;return Y.then(function(n){return n?(S().then(function(n){return function(n){var t=n.orderID,e=n.fundingSource,r=n.isCardFields;return Object(s.p)({orderID:t,fundingSource:e,integrationArtifact:d.k.PAYPAL_JS_SDK,userExperienceFlow:r?d.q.INLINE:d.q.INCONTEXT,productFlow:d.m.SMART_PAYMENT_BUTTONS})}({orderID:n,fundingSource:l,isCardFields:W})}),Q().then(function(){return S()}).then(function(n){return function(n,t){var e=t.clientID,r=t.merchantID;return i.a.all([Object(_.b)({query:"\n                query GetCheckoutDetails($orderID: String!) {\n                    checkoutSession(token: $orderID) {\n                        cart {\n                            intent\n                            amounts {\n                                total {\n                                    currencyCode\n                                }\n                            }\n                        }\n                    }\n                }\n            ",variables:{orderID:n}}),Object(s.j)(n)]).then(function(n){var t=n[1],i=n[0].data.checkoutSession.cart,c="sale"===i.intent.toLowerCase()?o.h.CAPTURE:i.intent.toLowerCase(),a=i.amounts&&i.amounts.total.currencyCode,s=window.xprops.intent,d=window.xprops.currency;if(c!==s)throw new Error("Expected intent from order api call to be "+s+", got "+c+". Please ensure you are passing "+o.i.INTENT+"="+c+" to the sdk");if(a&&a!==d)throw new Error("Expected currency from order api call to be "+d+", got "+a+". Please ensure you are passing "+o.i.CURRENCY+"="+a+" to the sdk");var f=t&&t.merchant&&t.merchant.id,l=r&&r.length&&r[0];if(!l)throw new Error("Could not determine correct merchant id");if(!f)throw new Error("No payee found in transaction. Expected "+l);f!==l&&-1===w.c.indexOf(e)&&Object(u.a)().info("client_id_payee_no_match_"+e).flush();var p=window.xprops.merchantID&&window.xprops.merchantID[0];if(p&&f!==p)throw new Error("Payee passed in transaction does not match expected merchant id: "+p)})}(n,{clientID:L,merchantID:y})}).catch(function(n){return i.a.all([nn(n),$()])})):i.a.all([$(),f&&f.close()]).then(r.i)})}}).finally(function(){q=!1,Object(m.a)(e)})},J={};return Object(m.c)().forEach(function(n){var t=Object(m.e)(n),e=t.fundingSource,o=t.card,i=t.paymentMethodID;Object(r.k)(n,function(t){t.preventDefault(),t.stopPropagation();var r=z({button:n,fundingSource:e,card:o,paymentMethodID:i});n.payPromise=r,I&&I.tagline&&Object(u.c)(I.tagline.tracking.click)}),n.addEventListener("mousedown",function(){n.classList.add(d.b.CLICKED)}),n.addEventListener("focus",function(t){n.classList.contains(d.b.CLICKED)&&(t.preventDefault(),n.blur(),n.classList.remove(d.b.CLICKED))})}),J.remember=i.a.try(function(){if(t&&t.venmo&&t.venmo.eligible)return W([o.g.VENMO])}),J.getPopupBridge=i.a.try(function(){if(K)return K().then(function(n){Z=n})}),function(){var n=Object(u.a)();Object(r.g)()&&n.warn("button_child_intranet_mode");var t=window.xprops;if(!t)throw new Error("No xprops found");Object(r.d)().then(function(e){var r,i=[].slice.call(document.querySelectorAll("["+d.d.FUNDING_SOURCE+"]")).map(function(n){return n.getAttribute(d.d.CARD)||n.getAttribute(d.d.FUNDING_SOURCE)}).filter(function(n){return n&&n!==o.g.CARD}),u=t.style||{},c=u.layout,a=u.color,s=u.shape,f=u.label,l=u.tagline,p=void 0===l||l;n.info("button_render_color_"+a),n.info("button_render_shape_"+s),n.info("button_render_label_"+f),n.info("button_render_layout_"+c),n.info("button_render_tagline_"+p.toString()),n.track(((r={})[o.d.TRANSITION]=d.h.BUTTON_LOAD,r[o.d.FUNDING_LIST]=i.join(":"),r[o.d.FUNDING_COUNT]=i.length.toString(),r[o.d.PAGE_LOAD_TIME]=e?e.toString():"",r[d.i.BUTTON_LAYOUT]=c,r[d.i.BUTTON_COLOR]=a,r[d.i.BUTTON_SIZE]="responsive",r[d.i.BUTTON_SHAPE]=s,r[d.i.BUTTON_LABEL]=f,r[d.i.BUTTON_WIDTH]=window.innerWidth,r[d.i.BUTTON_TYPE]=d.e.IFRAME,r[d.i.BUTTON_TAGLINE_ENABLED]=p?"1":"0",r)),n.flush()})}(),J.setupCheckout=function(){f=!1;var n=[Object(a.b)(window),Object(a.c)(window)],t=n[0],e=n[1],o={};return e&&t&&t!==e&&(o.canRenderTo=window.paypal.Checkout.canRenderTo(e).then(function(n){l=n})),i.a.hash(o).then(r.i)}(),C=V(),J.onInit=C.promise,J.prerender=J.onInit.then(function(){return Y().then(function(n){if(n){var t=n.win,e=n.fundingSource,r=n.card,o=document.querySelector("["+d.d.FUNDING_SOURCE+"="+e+"]");if(!o)throw new Error("Can not find button element");return z({button:o,win:t,fundingSource:e,card:r})}})}),i.a.hash(J).then(r.i)}e.d(t,"a",function(){return y})},function(n,t,e){"use strict";e.r(t);var r=e(25);e.d(t,"setupButton",function(){return r.a});var o=e(12);for(var i in o)["setupButton","default"].indexOf(i)<0&&function(n){e.d(t,n,function(){return o[n]})}(i)}]);
//# sourceMappingURL=smart-payment-buttons.min.js.map