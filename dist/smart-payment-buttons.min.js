window.spb=function(n){var r={};function e(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return n[t].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=n,e.c=r,e.d=function(n,r,t){e.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:t})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,r){if(1&r&&(n=e(n)),8&r)return n;if(4&r&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(e.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&r&&"string"!=typeof n)for(var o in n)e.d(t,o,function(r){return n[r]}.bind(null,o));return t},e.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(r,"a",r),r},e.o=function(n,r){return{}.hasOwnProperty.call(n,r)},e.p="",e(e.s=0)}([function(n,r,e){"use strict";e.r(r);var t={};function o(){return window.navigator.mockUserAgent||window.navigator.userAgent}function i(n){return void 0===n&&(n=o()),n.indexOf("Opera Mini")>-1}function u(){return(u=Object.assign||function(n){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var t in e)({}).hasOwnProperty.call(e,t)&&(n[t]=e[t])}return n}).apply(this,arguments)}function f(n){try{if(!n)return!1;if("undefined"!=typeof Promise&&n instanceof Promise)return!0;if("undefined"!=typeof window&&window.Window&&n instanceof window.Window)return!1;if("undefined"!=typeof window&&window.constructor&&n instanceof window.constructor)return!1;var r={}.toString;if(r){var e=r.call(n);if("[object Window]"===e||"[object global]"===e||"[object DOMWindow]"===e)return!1}if("function"==typeof n.then)return!0}catch(n){return!1}return!1}e.r(t),e.d(t,"WeakMap",function(){return B});var c,a=[],s=[],h=0;function d(){if(!h&&c){var n=c;c=null,n.resolve()}}function w(){h+=1}function v(){h-=1,d()}var l=function(){function n(n){var r=this;if(this.resolved=void 0,this.rejected=void 0,this.errorHandled=void 0,this.value=void 0,this.error=void 0,this.handlers=void 0,this.dispatching=void 0,this.stack=void 0,this.resolved=!1,this.rejected=!1,this.errorHandled=!1,this.handlers=[],n){var e,t,o=!1,i=!1,u=!1;w();try{n(function(n){u?r.resolve(n):(o=!0,e=n)},function(n){u?r.reject(n):(i=!0,t=n)})}catch(n){return v(),void this.reject(n)}v(),u=!0,o?this.resolve(e):i&&this.reject(t)}}var r=n.prototype;return r.resolve=function(n){if(this.resolved||this.rejected)return this;if(f(n))throw new Error("Can not resolve promise with another promise");return this.resolved=!0,this.value=n,this.dispatch(),this},r.reject=function(n){var r=this;if(this.resolved||this.rejected)return this;if(f(n))throw new Error("Can not reject promise with another promise");if(!n){var e=n&&"function"==typeof n.toString?n.toString():{}.toString.call(n);n=new Error("Expected reject to be called with Error, got "+e)}return this.rejected=!0,this.error=n,this.errorHandled||setTimeout(function(){r.errorHandled||function(n,r){if(-1===a.indexOf(n)){a.push(n),setTimeout(function(){throw n},1);for(var e=0;e<s.length;e++)s[e](n,r)}}(n,r)},1),this.dispatch(),this},r.asyncReject=function(n){return this.errorHandled=!0,this.reject(n),this},r.dispatch=function(){var r=this,e=this.resolved,t=this.rejected,o=this.handlers;if(!this.dispatching&&(e||t)){this.dispatching=!0,w();for(var i=function(i){var u=o[i],c=u.onSuccess,a=u.onError,s=u.promise,h=void 0;if(e)try{h=c?c(r.value):r.value}catch(n){return s.reject(n),"continue"}else if(t){if(!a)return s.reject(r.error),"continue";try{h=a(r.error)}catch(n){return s.reject(n),"continue"}}h instanceof n&&(h.resolved||h.rejected)?(h.resolved?s.resolve(h.value):s.reject(h.error),h.errorHandled=!0):f(h)?h instanceof n&&(h.resolved||h.rejected)?h.resolved?s.resolve(h.value):s.reject(h.error):h.then(function(n){s.resolve(n)},function(n){s.reject(n)}):s.resolve(h)},u=0;u<o.length;u++)i(u);o.length=0,this.dispatching=!1,v()}},r.then=function(r,e){if(r&&"function"!=typeof r&&!r.call)throw new Error("Promise.then expected a function for success handler");if(e&&"function"!=typeof e&&!e.call)throw new Error("Promise.then expected a function for error handler");var t=new n;return this.handlers.push({promise:t,onSuccess:r,onError:e}),this.errorHandled=!0,this.dispatch(),t},r.catch=function(n){return this.then(void 0,n)},r.finally=function(r){if(r&&"function"!=typeof r&&!r.call)throw new Error("Promise.finally expected a function");return this.then(function(e){return n.try(r).then(function(){return e})},function(e){return n.try(r).then(function(){throw e})})},r.timeout=function(n,r){var e=this;if(this.resolved||this.rejected)return this;var t=setTimeout(function(){e.resolved||e.rejected||e.reject(r||new Error("Promise timed out after "+n+"ms"))},n);return this.then(function(n){return clearTimeout(t),n})},r.toPromise=function(){if("undefined"==typeof Promise)throw new TypeError("Could not find Promise");return Promise.resolve(this)},n.resolve=function(r){return r instanceof n?r:f(r)?new n(function(n,e){return r.then(n,e)}):(new n).resolve(r)},n.reject=function(r){return(new n).reject(r)},n.asyncReject=function(r){return(new n).asyncReject(r)},n.all=function(r){var e=new n,t=r.length,o=[];if(!t)return e.resolve(o),e;for(var i=function(i){var u=r[i];if(u instanceof n){if(u.resolved)return o[i]=u.value,t-=1,"continue"}else if(!f(u))return o[i]=u,t-=1,"continue";n.resolve(u).then(function(n){o[i]=n,0==(t-=1)&&e.resolve(o)},function(n){e.reject(n)})},u=0;u<r.length;u++)i(u);return 0===t&&e.resolve(o),e},n.hash=function(r){var e={};return n.all(Object.keys(r).map(function(t){return n.resolve(r[t]).then(function(n){e[t]=n})})).then(function(){return e})},n.map=function(r,e){return n.all(r.map(e))},n.onPossiblyUnhandledException=function(n){return function(n){return s.push(n),{cancel:function(){s.splice(s.indexOf(n),1)}}}(n)},n.try=function(r,e,t){if(r&&"function"!=typeof r&&!r.call)throw new Error("Promise.try expected a function");var o;w();try{o=r.apply(e,t||[])}catch(r){return v(),n.reject(r)}return v(),n.resolve(o)},n.delay=function(r){return new n(function(n){setTimeout(n,r)})},n.isPromise=function(r){return!!(r&&r instanceof n)||f(r)},n.flush=function(){return r=c=c||new n,d(),r;var r},n}(),E={u:"mock:",h:"file:",v:"about:"},p="Call was rejected by callee.\r\n";function z(n){return void 0===n&&(n=window),n.location.protocol===E.v}function y(n){if(n)try{if(n.parent&&n.parent!==n)return n.parent}catch(n){}}function T(n){try{return!0}catch(n){}return!1}function A(n){var r=(n=n||window).location;if(!r)throw new Error("Can not read window location");var e=r.protocol;if(!e)throw new Error("Can not read window protocol");if(e===E.h)return E.h+"//";if(e===E.v){var t=y(n);return t&&T()?A(t):E.v+"//"}var o=r.host;if(!o)throw new Error("Can not read window host");return e+"//"+o}function C(n){var r=A(n=n||window);return r&&n.mockDomain&&0===n.mockDomain.indexOf(E.u)?n.mockDomain:r}function S(n,r){if(!n||!r)return!1;var e=y(r);return e?e===n:-1!==function(n){var r=[];try{for(;n.parent!==n;)r.push(n.parent),n=n.parent}catch(n){}return r}(r).indexOf(n)}function N(n){if(n){try{if(n.top)return n.top}catch(n){}if(y(n)===n)return n;try{if(S(window,n)&&window.top)return window.top}catch(n){}try{if(S(n,window)&&window.top)return window.top}catch(n){}for(var r=0,e=function n(r){for(var e=[],t=0,o=function(n){var r,e,t=[];try{r=n.frames}catch(e){r=n}try{e=r.length}catch(n){}if(0===e)return t;if(e){for(var o=0;o<e;o++){var i=void 0;try{i=r[o]}catch(n){continue}t.push(i)}return t}for(var u=0;u<100;u++){var f=void 0;try{f=r[u]}catch(n){return t}if(!f)return t;t.push(f)}return t}(r);t<o.length;t++){var i=o[t];e.push(i);for(var u=0,f=n(i);u<f.length;u++)e.push(f[u])}return e}(n);r<e.length;r++){var t=e[r];try{if(t.top)return t.top}catch(n){}if(y(t)===t)return t}}}var M=[],m=[];function O(n,r){void 0===r&&(r=!0);try{if(n===window)return!1}catch(n){return!0}try{if(!n)return!0}catch(n){return!0}try{if(n.closed)return!0}catch(n){return!n||n.message!==p}if(r&&function(n){if(!function(n){try{if(n===window)return!0}catch(n){}try{var r=Object.getOwnPropertyDescriptor(n,"location");if(r&&!1===r.enumerable)return!1}catch(n){}try{if(z(n)&&T())return!0}catch(n){}try{if(A(n)===A(window))return!0}catch(n){}return!1}(n))return!1;try{if(n===window)return!0;if(z(n)&&T())return!0;if(C(window)===C(n))return!0}catch(n){}return!1}(n))try{if(n.mockclosed)return!0}catch(n){}try{if(!n.parent||!n.top)return!0}catch(n){}var e=function(n,r){for(var e=0;e<n.length;e++)try{if(n[e]===r)return e}catch(n){}return-1}(M,n);if(-1!==e){var t=m[e];if(t&&function(n){if(!n.contentWindow)return!0;if(!n.parentNode)return!0;var r=n.ownerDocument;return!(!r||!r.documentElement||r.documentElement.contains(n))}(t))return!0}return!1}function b(n){try{if(n===window)return!0}catch(n){if(n&&n.message===p)return!0}try{if("[object Window]"==={}.toString.call(n))return!0}catch(n){if(n&&n.message===p)return!0}try{if(window.Window&&n instanceof window.Window)return!0}catch(n){if(n&&n.message===p)return!0}try{if(n&&n.self===n)return!0}catch(n){if(n&&n.message===p)return!0}try{if(n&&n.parent===n)return!0}catch(n){if(n&&n.message===p)return!0}try{if(n&&n.top===n)return!0}catch(n){if(n&&n.message===p)return!0}return!1}function I(n,r){for(var e=0;e<n.length;e++)try{if(n[e]===r)return e}catch(n){}return-1}var R,D=Object.defineProperty,P=Date.now()%1e9,B=function(){function n(){if(this.name=void 0,this.weakmap=void 0,this.keys=void 0,this.values=void 0,P+=1,this.name="__weakmap_"+(1e9*Math.random()>>>0)+"__"+P,function(){if("undefined"==typeof WeakMap)return!1;if(void 0===Object.freeze)return!1;try{var n=new WeakMap,r={};return Object.freeze(r),n.set(r,"__testvalue__"),"__testvalue__"===n.get(r)}catch(n){return!1}}())try{this.weakmap=new WeakMap}catch(n){}this.keys=[],this.values=[]}var r=n.prototype;return r._cleanupClosedWindows=function(){for(var n=this.weakmap,r=this.keys,e=0;e<r.length;e++){var t=r[e];if(b(t)&&O(t)){if(n)try{n.delete(t)}catch(n){}r.splice(e,1),this.values.splice(e,1),e-=1}}},r.isSafeToReadWrite=function(n){return!b(n)},r.set=function(n,r){if(!n)throw new Error("WeakMap expected key");var e=this.weakmap;if(e)try{e.set(n,r)}catch(n){delete this.weakmap}if(this.isSafeToReadWrite(n)){var t=this.name,o=n[t];o&&o[0]===n?o[1]=r:D(n,t,{value:[n,r],writable:!0})}else{this._cleanupClosedWindows();var i=this.keys,u=this.values,f=I(i,n);-1===f?(i.push(n),u.push(r)):u[f]=r}},r.get=function(n){if(!n)throw new Error("WeakMap expected key");var r=this.weakmap;if(r)try{if(r.has(n))return r.get(n)}catch(n){delete this.weakmap}if(!this.isSafeToReadWrite(n)){this._cleanupClosedWindows();var e=I(this.keys,n);if(-1===e)return;return this.values[e]}var t=n[this.name];if(t&&t[0]===n)return t[1]},r.delete=function(n){if(!n)throw new Error("WeakMap expected key");var r=this.weakmap;if(r)try{r.delete(n)}catch(n){delete this.weakmap}if(this.isSafeToReadWrite(n)){var e=n[this.name];e&&e[0]===n&&(e[0]=e[1]=void 0)}else{this._cleanupClosedWindows();var t=this.keys,o=I(t,n);-1!==o&&(t.splice(o,1),this.values.splice(o,1))}},r.has=function(n){if(!n)throw new Error("WeakMap expected key");var r=this.weakmap;if(r)try{if(r.has(n))return!0}catch(n){delete this.weakmap}if(this.isSafeToReadWrite(n)){var e=n[this.name];return!(!e||e[0]!==n)}return this._cleanupClosedWindows(),-1!==I(this.keys,n)},r.getOrSet=function(n,r){if(this.has(n))return this.get(n);var e=r();return this.set(n,e),e},n}();function G(n,r){var e=this;void 0===r&&(r={});var t=new B;function o(){for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];var u=t.getOrSet(r.thisNamespace?this:n,function(){return{}}),f=function(n){try{return JSON.stringify([].slice.call(n),function(n,r){return"function"==typeof r?"memoize["+function(n){if(R=R||new B,null==n||"object"!=typeof n&&"function"!=typeof n)throw new Error("Invalid object");var r,e=R.get(n);return e||(e=typeof n+":"+(r="0123456789abcdef","xxxxxxxxxx".replace(/./g,function(){return r.charAt(Math.floor(Math.random()*r.length))})+"_"+function(n){if("function"==typeof btoa)return btoa(n);if("undefined"!=typeof Buffer)return Buffer.from(n,"utf8").toString("base64");throw new Error("Can not find window.btoa or Buffer")}((new Date).toISOString().slice(11,19).replace("T",".")).replace(/[^a-zA-Z0-9]/g,"").toLowerCase()),R.set(n,e)),e}(r)+"]":r})}catch(n){throw new Error("Arguments not serializable -- can not be used to memoize")}}(o),c=r.time;if(u[f]&&c&&Date.now()-u[f].time<c&&delete u[f],u[f])return u[f].value;var a=Date.now(),s=n.apply(this,arguments);return u[f]={time:a,value:s},u[f].value}return o.reset=function(){t.delete(r.thisNamespace?e:n)},r.name&&(o.displayName=r.name+":memoized"),o}function g(){}var L={T:13};Object.create(Error.prototype);var U,F={A:"content-type",C:"accept"},_=[];function K(n){var r=n.url,e=n.method,t=void 0===e?"get":e,o=n.headers,i=void 0===o?{}:o,u=n.json,f=n.data,c=n.body,a=n.win,s=void 0===a?window:a,h=n.timeout,d=void 0===h?0:h;return new l(function(n,e){if(u&&f||u&&c||f&&u)throw new Error("Only options.json or options.data or options.body should be passed");for(var o={},a=0,h=Object.keys(i);a<h.length;a++){var w=h[a];o[w.toLowerCase()]=i[w]}u?o[F.A]=o[F.A]||"application/json":(f||c)&&(o[F.A]=o[F.A]||"application/x-www-form-urlencoded; charset=utf-8"),o[F.C]=o[F.C]||"application/json";for(var v=0;v<_.length;v++)for(var l=(0,_[v])(),E=0,p=Object.keys(l);E<p.length;E++){var z=p[E];o[z.toLowerCase()]=l[z]}var y=new s.XMLHttpRequest;for(var T in y.addEventListener("load",function(){var o=function(n){void 0===n&&(n="");for(var r={},e=0,t=n.trim().split("\n");e<t.length;e++){var o=t[e].split(":"),i=o[0],u=o.slice(1);r[i.toLowerCase()]=u.join(":").trim()}return r}(this.getAllResponseHeaders());if(!this.status)return e(new Error("Request to "+t.toLowerCase()+" "+r+" failed: no response status code."));var i=o["content-type"],u=i&&(0===i.indexOf("application/json")||0===i.indexOf("text/json")),f=this.responseText;try{f=JSON.parse(f)}catch(n){if(u)return e(new Error("Invalid json: "+this.responseText+"."))}return n({status:this.status,headers:o,body:f})},!1),y.addEventListener("error",function(n){e(new Error("Request to "+t.toLowerCase()+" "+r+" failed: "+n.toString()+"."))},!1),y.open(t,r,!0),o)o.hasOwnProperty(T)&&y.setRequestHeader(T,o[T]);u?c=JSON.stringify(u):f&&(c=Object.keys(f).map(function(n){return encodeURIComponent(n)+"="+(f?encodeURIComponent(f[n]):"")}).join("&")),y.timeout=d,y.ontimeout=function(){e(new Error("Request to "+t.toLowerCase()+" "+r+" has timed out"))},y.send(c)})}var k={AD:"AD",AE:"AE",AG:"AG",AI:"AI",AL:"AL",AM:"AM",AN:"AN",AO:"AO",AR:"AR",AT:"AT",AU:"AU",AW:"AW",AZ:"AZ",BA:"BA",BB:"BB",BE:"BE",BF:"BF",BG:"BG",BH:"BH",BI:"BI",BJ:"BJ",BM:"BM",BN:"BN",BO:"BO",BR:"BR",BS:"BS",BT:"BT",BW:"BW",BY:"BY",BZ:"BZ",CA:"CA",CD:"CD",CG:"CG",CH:"CH",CI:"CI",CK:"CK",CL:"CL",CM:"CM",CN:"CN",CO:"CO",CR:"CR",CV:"CV",CY:"CY",CZ:"CZ",DE:"DE",DJ:"DJ",DK:"DK",DM:"DM",DO:"DO",DZ:"DZ",EC:"EC",EE:"EE",EG:"EG",ER:"ER",ES:"ES",ET:"ET",FI:"FI",FJ:"FJ",FK:"FK",FM:"FM",FO:"FO",FR:"FR",GA:"GA",GB:"GB",GD:"GD",GE:"GE",GF:"GF",GI:"GI",GL:"GL",GM:"GM",GN:"GN",GP:"GP",GR:"GR",GT:"GT",GW:"GW",GY:"GY",HK:"HK",HN:"HN",HR:"HR",HU:"HU",ID:"ID",IE:"IE",IL:"IL",IN:"IN",IS:"IS",IT:"IT",JM:"JM",JO:"JO",JP:"JP",KE:"KE",KG:"KG",KH:"KH",KI:"KI",KM:"KM",KN:"KN",KR:"KR",KW:"KW",KY:"KY",KZ:"KZ",LA:"LA",LC:"LC",LI:"LI",LK:"LK",LS:"LS",LT:"LT",LU:"LU",LV:"LV",MA:"MA",MC:"MC",MD:"MD",ME:"ME",MG:"MG",MH:"MH",MK:"MK",ML:"ML",MN:"MN",MQ:"MQ",MR:"MR",MS:"MS",MT:"MT",MU:"MU",MV:"MV",MW:"MW",MX:"MX",MY:"MY",MZ:"MZ",NA:"NA",NC:"NC",NE:"NE",NF:"NF",NG:"NG",NI:"NI",NL:"NL",NO:"NO",NP:"NP",NR:"NR",NU:"NU",NZ:"NZ",OM:"OM",PA:"PA",PE:"PE",PF:"PF",PG:"PG",PH:"PH",PL:"PL",PM:"PM",PN:"PN",PT:"PT",PW:"PW",PY:"PY",QA:"QA",RE:"RE",RO:"RO",RS:"RS",RU:"RU",RW:"RW",SA:"SA",SB:"SB",SC:"SC",SE:"SE",SG:"SG",SH:"SH",SI:"SI",SJ:"SJ",SK:"SK",SL:"SL",SM:"SM",SN:"SN",SO:"SO",SR:"SR",ST:"ST",SV:"SV",SZ:"SZ",TC:"TC",TD:"TD",TG:"TG",TH:"TH",TJ:"TJ",TM:"TM",TN:"TN",TO:"TO",TR:"TR",TT:"TT",TV:"TV",TW:"TW",TZ:"TZ",UA:"UA",UG:"UG",US:"US",UY:"UY",VA:"VA",VC:"VC",VE:"VE",VG:"VG",VN:"VN",VU:"VU",WF:"WF",WS:"WS",YE:"YE",YT:"YT",ZA:"ZA",ZM:"ZM",ZW:"ZW"},j=((U={})[k.AD]=["en","fr","es","zh"],U[k.AE]=["en","fr","es","zh","ar"],U[k.AG]=["en","fr","es","zh"],U[k.AI]=["en","fr","es","zh"],U[k.AL]=["en"],U[k.AM]=["en","fr","es","zh"],U[k.AN]=["en","fr","es","zh"],U[k.AO]=["en","fr","es","zh"],U[k.AR]=["es","en"],U[k.AT]=["de","en"],U[k.AU]=["en"],U[k.AW]=["en","fr","es","zh"],U[k.AZ]=["en","fr","es","zh"],U[k.BA]=["en"],U[k.BB]=["en","fr","es","zh"],U[k.BE]=["en","nl","fr"],U[k.BF]=["fr","en","es","zh"],U[k.BG]=["en"],U[k.BH]=["ar","en","fr","es","zh"],U[k.BI]=["fr","en","es","zh"],U[k.BJ]=["fr","en","es","zh"],U[k.BM]=["en","fr","es","zh"],U[k.BN]=["en"],U[k.BO]=["es","en","fr","zh"],U[k.BR]=["pt","en"],U[k.BS]=["en","fr","es","zh"],U[k.BT]=["en"],U[k.BW]=["en","fr","es","zh"],U[k.BY]=["en"],U[k.BZ]=["en","es","fr","zh"],U[k.CA]=["en","fr"],U[k.CD]=["fr","en","es","zh"],U[k.CG]=["en","fr","es","zh"],U[k.CH]=["de","fr","en"],U[k.CI]=["fr","en"],U[k.CK]=["en","fr","es","zh"],U[k.CL]=["es","en","fr","zh"],U[k.CM]=["fr","en"],U[k.CN]=["zh"],U[k.CO]=["es","en","fr","zh"],U[k.CR]=["es","en","fr","zh"],U[k.CV]=["en","fr","es","zh"],U[k.CY]=["en"],U[k.CZ]=["cs","en","fr","es","zh"],U[k.DE]=["de","en"],U[k.DJ]=["fr","en","es","zh"],U[k.DK]=["da","en"],U[k.DM]=["en","fr","es","zh"],U[k.DO]=["es","en","fr","zh"],U[k.DZ]=["ar","en","fr","es","zh"],U[k.EC]=["es","en","fr","zh"],U[k.EE]=["en","ru","fr","es","zh"],U[k.EG]=["ar","en","fr","es","zh"],U[k.ER]=["en","fr","es","zh"],U[k.ES]=["es","en"],U[k.ET]=["en","fr","es","zh"],U[k.FI]=["fi","en","fr","es","zh"],U[k.FJ]=["en","fr","es","zh"],U[k.FK]=["en","fr","es","zh"],U[k.FM]=["en"],U[k.FO]=["da","en","fr","es","zh"],U[k.FR]=["fr","en"],U[k.GA]=["fr","en","es","zh"],U[k.GB]=["en"],U[k.GD]=["en","fr","es","zh"],U[k.GE]=["en","fr","es","zh"],U[k.GF]=["en","fr","es","zh"],U[k.GI]=["en","fr","es","zh"],U[k.GL]=["da","en","fr","es","zh"],U[k.GM]=["en","fr","es","zh"],U[k.GN]=["fr","en","es","zh"],U[k.GP]=["en","fr","es","zh"],U[k.GR]=["el","en","fr","es","zh"],U[k.GT]=["es","en","fr","zh"],U[k.GW]=["en","fr","es","zh"],U[k.GY]=["en","fr","es","zh"],U[k.HK]=["en","zh"],U[k.HN]=["es","en","fr","zh"],U[k.HR]=["en"],U[k.HU]=["hu","en","fr","es","zh"],U[k.ID]=["id","en"],U[k.IE]=["en","fr","es","zh"],U[k.IL]=["he","en"],U[k.IN]=["en"],U[k.IS]=["en"],U[k.IT]=["it","en"],U[k.JM]=["en","es","fr","zh"],U[k.JO]=["ar","en","fr","es","zh"],U[k.JP]=["ja","en"],U[k.KE]=["en","fr","es","zh"],U[k.KG]=["en","fr","es","zh"],U[k.KH]=["en"],U[k.KI]=["en","fr","es","zh"],U[k.KM]=["fr","en","es","zh"],U[k.KN]=["en","fr","es","zh"],U[k.KR]=["ko","en"],U[k.KW]=["ar","en","fr","es","zh"],U[k.KY]=["en","fr","es","zh"],U[k.KZ]=["en","fr","es","zh"],U[k.LA]=["en"],U[k.LC]=["en","fr","es","zh"],U[k.LI]=["en","fr","es","zh"],U[k.LK]=["en"],U[k.LS]=["en","fr","es","zh"],U[k.LT]=["en","ru","fr","es","zh"],U[k.LU]=["en","de","fr","es","zh"],U[k.LV]=["en","ru","fr","es","zh"],U[k.MA]=["ar","en","fr","es","zh"],U[k.MC]=["fr","en"],U[k.MD]=["en"],U[k.ME]=["en"],U[k.MG]=["en","fr","es","zh"],U[k.MH]=["en","fr","es","zh"],U[k.MK]=["en"],U[k.ML]=["fr","en","es","zh"],U[k.MN]=["en"],U[k.MQ]=["en","fr","es","zh"],U[k.MR]=["en","fr","es","zh"],U[k.MS]=["en","fr","es","zh"],U[k.MT]=["en"],U[k.MU]=["en","fr","es","zh"],U[k.MV]=["en"],U[k.MW]=["en","fr","es","zh"],U[k.MX]=["es","en"],U[k.MY]=["en"],U[k.MZ]=["en","fr","es","zh"],U[k.NA]=["en","fr","es","zh"],U[k.NC]=["en","fr","es","zh"],U[k.NE]=["fr","en","es","zh"],U[k.NF]=["en","fr","es","zh"],U[k.NG]=["en"],U[k.NI]=["es","en","fr","zh"],U[k.NL]=["nl","en"],U[k.NO]=["no","en"],U[k.NP]=["en"],U[k.NR]=["en","fr","es","zh"],U[k.NU]=["en","fr","es","zh"],U[k.NZ]=["en","fr","es","zh"],U[k.OM]=["ar","en","fr","es","zh"],U[k.PA]=["es","en","fr","zh"],U[k.PE]=["es","en","fr","zh"],U[k.PF]=["en","fr","es","zh"],U[k.PG]=["en","fr","es","zh"],U[k.PH]=["en"],U[k.PL]=["pl","en"],U[k.PM]=["en","fr","es","zh"],U[k.PN]=["en","fr","es","zh"],U[k.PT]=["pt","en"],U[k.PW]=["en","fr","es","zh"],U[k.PY]=["es","en"],U[k.QA]=["en","fr","es","zh","ar"],U[k.RE]=["en","fr","es","zh"],U[k.RO]=["en","fr","es","zh"],U[k.RS]=["en","fr","es","zh"],U[k.RU]=["ru","en"],U[k.RW]=["fr","en","es","zh"],U[k.SA]=["ar","en","fr","es","zh"],U[k.SB]=["en","fr","es","zh"],U[k.SC]=["fr","en","es","zh"],U[k.SE]=["sv","en"],U[k.SG]=["en"],U[k.SH]=["en","fr","es","zh"],U[k.SI]=["en","fr","es","zh"],U[k.SJ]=["en","fr","es","zh"],U[k.SK]=["sk","en","fr","es","zh"],U[k.SL]=["en","fr","es","zh"],U[k.SM]=["en","fr","es","zh"],U[k.SN]=["fr","en","es","zh"],U[k.SO]=["en","fr","es","zh"],U[k.SR]=["en","fr","es","zh"],U[k.ST]=["en","fr","es","zh"],U[k.SV]=["es","en","fr","zh"],U[k.SZ]=["en","fr","es","zh"],U[k.TC]=["en","fr","es","zh"],U[k.TD]=["fr","en","es","zh"],U[k.TG]=["fr","en","es","zh"],U[k.TH]=["th","en"],U[k.TJ]=["en","fr","es","zh"],U[k.TM]=["en","fr","es","zh"],U[k.TN]=["ar","en","fr","es","zh"],U[k.TO]=["en"],U[k.TR]=["tr","en"],U[k.TT]=["en","fr","es","zh"],U[k.TV]=["en","fr","es","zh"],U[k.TW]=["zh","en"],U[k.TZ]=["en","fr","es","zh"],U[k.UA]=["en","ru","fr","es","zh"],U[k.UG]=["en","fr","es","zh"],U[k.US]=["en","fr","es","zh"],U[k.UY]=["es","en","fr","zh"],U[k.VA]=["en","fr","es","zh"],U[k.VC]=["en","fr","es","zh"],U[k.VE]=["es","en","fr","zh"],U[k.VG]=["en","fr","es","zh"],U[k.VN]=["en"],U[k.VU]=["en","fr","es","zh"],U[k.WF]=["en","fr","es","zh"],U[k.WS]=["en"],U[k.YE]=["ar","en","fr","es","zh"],U[k.YT]=["en","fr","es","zh"],U[k.ZA]=["en","fr","es","zh"],U[k.ZM]=["en","fr","es","zh"],U[k.ZW]=["en"],{S:"components",ENV:"env",N:"debug",M:"cachebust",O:"client-id",I:"merchant-id",R:"locale",D:"currency",P:"intent",B:"commit",G:"vault",g:"buyer-country",L:"disable-funding",U:"disable-card",F:"locale-country",_:"locale-lang",K:"framework",k:"integration-date",j:"order-currency",W:"order-intent",Y:"order-commit",H:"order-vault"}),W={V:"capture",Z:"authorize",J:"order"},x={$:"paypal",q:"venmo",X:"credit",nn:"card",rn:"ideal",en:"sepa",tn:"bancontact",on:"giropay",in:"sofort",EPS:"eps",un:"mybank",P24:"p24",fn:"zimpler",cn:"wechatpay"},Y={an:"/smart/api/auth",sn:"/smart/api/checkout",J:"/smart/api/order",hn:"/smart/api/payment",dn:"/graphql"},H=!1,V=Boolean(window.xprops&&window.xprops.updateClientConfiguration),Z="smart_buttons",J="smart-payment-buttons",$={wn:"x-csrf-jwt",vn:"x-source",ln:"x-requested-by"},q={En:"INSTRUMENT_DECLINED"},Q={pn:"iframe",zn:"popup"},X={yn:"body"},nn="https://www.paypal.com/checkoutnow/error",rn=/^(EC-)?[A-Z0-9]+$/,en={Tn:"PAYPAL_JS_SDK"},tn={An:"INCONTEXT",Cn:"INLINE"},on={Sn:"SMART_PAYMENT_BUTTONS"},un={},fn="";function cn(n){var r,e=n.url,t=n.method,o=void 0===t?"get":t,i=n.json,f=u({},un,((r={})[$.wn]=fn,r[$.vn]=Z,r[$.ln]=J,r));return K({url:e,method:o,headers:f,json:i}).then(function(n){var r=n.status,t=n.body;if(fn=n.headers[$.wn],"contingency"===t.ack){var o=new Error(t.contingency);throw o.data=t.data,o}if(r>400)throw new Error("Api: "+e+" returned status code: "+r);if("success"!==t.ack)throw new Error("Api: "+e+" returned ack: "+t.ack);return t.data})}function an(n,r){return K({url:Y.dn,method:"POST",json:{query:n,variables:r}}).then(function(n){var r=n.body,e=(r.errors||[]).filter(function(n){return"ACCOUNT_CANNOT_BE_FETCHED"!==n.message});if(e.length){var t=e[0].message||JSON.stringify(e[0]);throw new Error(t)}return r})}function sn(){return cn({url:Y.an})}function hn(n,r){return cn({method:"post",url:Y.J+"/"+n+"/patch",json:{data:{patch:r}}})}var dn=G(function(n){return un["x-paypal-internal-euat"]=n,sn().then(g)});function wn(){var n="";return document.body&&(n=document.body.getAttribute("data-nonce")||""),n}function vn(n){return{order:{patch:function(r){return void 0===r&&(r=[]),hn(n,r).catch(function(){throw new Error("Order could not be patched")})}}}}function ln(n,r,e){var t=function(n){if(n&&n.data&&n.data.details&&n.data.details.some(function(n){return n.issue===q.En}))return e();throw new Error("Order could not be captured")},o=G(function(){return function(n){return cn({url:Y.J+"/"+n})}(n)});return{order:{capture:G(function(){if(window.xprops.intent!==W.V)throw new Error("Use "+j.P+"="+W.V+" to use client-side capture");return function(n){return cn({method:"post",url:Y.J+"/"+n+"/capture"})}(n).catch(t).finally(o.reset)}),authorize:G(function(){return function(n){return cn({method:"post",url:Y.J+"/"+n+"/authorize"})}(n).catch(t).finally(o.reset)}),patch:function(r){return void 0===r&&(r=[]),hn(n,r).catch(function(){throw new Error("Order could not be patched")})},get:o}}}function En(n){if(!n.match(rn))throw new Error(n+" does not match pattern for order-id, ec-token or cart-id");return an("\n        query GetCheckoutDetails($orderID: String!) {\n            checkoutSession(token: $orderID) {\n                cart {\n                    intent\n                    returnUrl {\n                        href\n                    }\n                    cancelUrl {\n                        href\n                    }\n                    amounts {\n                        total {\n                            currencyCode\n                        }\n                    }\n                }\n            }\n        }\n    ",{orderID:n}).then(function(r){var e=r.data.checkoutSession.cart,t="sale"===e.intent.toLowerCase()?W.V:e.intent.toLowerCase(),o=e.amounts&&e.amounts.total.currencyCode,i=e.returnUrl&&e.returnUrl.href,u=e.cancelUrl&&e.cancelUrl.href,f=window.xprops.intent,c=window.xprops.currency;if(t!==f)throw new Error("Expected intent from order api call to be "+f+", got "+t+". Please ensure you are passing "+j.P+"="+t+" to the sdk");if(o&&o!==c)throw new Error("Expected currency from order api call to be "+c+", got "+o+". Please ensure you are passing "+j.D+"="+o+" to the sdk");if(function(n){return Boolean(n.match(/^[A-Z0-9]{17}$/))}(n)){if(i&&0!==i.indexOf(nn))throw new Error("Return url is forbidden for smart payment button integration.");if(u&&0!==u.indexOf(nn))throw new Error("Cancel url is forbidden for smart payment button integration.")}})}var pn=!1,zn=!1;function yn(n){if(pn)throw new Error("Checkout already rendered");var r=n.createOrder,e=n.fundingSource,t=n.validationPromise,f=void 0===t?l.resolve(!0):t,c=n.buyerCountry,a=G(function(){return l.try(function(){return E.close()}).then(function(){return yn({fundingSource:e,createOrder:r,buyerCountry:c}).render(Q.pn)}).catch(g).then(function(){return new l(g)})}),s=!1,h=function(){return l.try(function(){return!s&&f}).then(function(n){if(n)return r().then(function(n){return window.xprops.onCancel({orderID:n})}).catch(function(n){return window.xprops.onError(n)})})},d=window.xprops.onShippingChange&&function(n,r){return window.xprops.onShippingChange(n,u({},r,vn(n.orderID)))},w=wn(),v=window.xprops,E=window.paypal.Checkout(u({},n,{onApprove:function(n){var r=n.orderID,e=n.payerID,t=n.paymentID,o=n.billingToken;s=!0;var i=u({restart:a},ln(r,0,a));return window.xprops.onApprove({orderID:r,payerID:e,paymentID:t,billingToken:o},i).catch(function(n){return window.xprops.onError(n)})},onCancel:h,onError:v.onError,onAuth:function(n){return dn(n.accessToken)},onClose:function(){return pn=!1,h()},onShippingChange:d,buyerCountry:c,locale:v.locale,commit:v.commit,nonce:w}));return{instance:E,render:function(n){return void 0===n&&(void 0===r&&(r=o()),n=function(n){return void 0===n&&(n=o()),!!function(n){return void 0===n&&(n=o()),/iPhone|iPod|iPad/.test(n)}(n)&&(!!function(n){return void 0===n&&(n=o()),/\bGSA\b/.test(n)}(n)||/.+AppleWebKit(?!.*Safari)/.test(n))}(r)||function(n){return void 0===n&&(n=o()),!!function(n){return void 0===n&&(n=o()),/Android/.test(n)}(n)&&/Version\/[\d.]+/.test(n)&&!i(n)}(r)||i(r)||function(n){return void 0===n&&(n=o()),/FxiOS/i.test(n)}(r)||function(n){return void 0===n&&(n=o()),/EdgiOS/i.test(n)}(r)||function(n){return void 0===n&&(n=o()),-1!==n.indexOf("FBAN")||-1!==n.indexOf("FBAV")}(r)||function(n){return void 0===n&&(n=o()),/QQBrowser/.test(n)}(r)||"undefined"!=typeof process&&process.versions&&process.versions.electron||(e=o(),/Macintosh.*AppleWebKit(?!.*Safari)/i.test(e))||!0===window.navigator.standalone||window.matchMedia("(display-mode: standalone)").matches?Q.pn:Q.zn),pn=!0,E.renderTo((t=N(window),zn&&t?t:window.xprops.getParent()),X.yn,n);var r,e,t}}}var Tn=!1,An=function(){var n=document.querySelector("#buttons-container"),r=document.querySelector('[data-funding-source="'+x.nn+'"]'),e=document.querySelector("#card-fields-container");if(!n||!r||!e)throw new Error("Required elements not found");e.style.display="block";var t=function(){n.style.marginTop=-(n.offsetHeight-r.offsetHeight)+"px"};window.addEventListener("resize",function(){n.style.transitionDuration="0s",t()}),t()};function Cn(n){if(!window.paypal)throw new Error("PayPal library not loaded");var r=window.xprops.buyerCountry||n.buyerCountry||k.US;n.fundingEligibility&&(n=n.fundingEligibility);var e,t=!0,o=function(n){var e=n.win,o=n.fundingSource,i=n.card,f=function(n){var r=n.fundingSource,e=n.card,t=!0;return l.try(function(){if(window.xprops.onClick)return window.xprops.onClick({fundingSource:r,card:e},{resolve:function(){return l.try(function(){t=!0})},reject:function(){return l.try(function(){t=!1})}})}).then(function(){return t})}({fundingSource:o,card:i});if(!t)return e?e.close():void 0;var c=f.then(function(n){return n?function(){if(window.xprops.createBillingAgreement)return window.xprops.createBillingAgreement().then(function(n){return function(n){return cn({method:"post",url:Y.hn+"/"+n+"/ectoken"}).then(function(n){return n.token})}(n)});if(window.xprops.createOrder)return window.xprops.createOrder();throw new Error("No mechanism to create order")}():new l(g)}).then(function(n){return l.try(function(){var r,e=window.xprops,t=e.clientAccessToken;if(e.vault&&t)return an("\n        mutation EnableVault(\n            $orderID : String!,\n            $clientToken : String!\n        ) {\n            enableVault(\n                token: $orderID,\n                clientAccessToken: $clientAccessToken\n            )\n        }\n    ",{orderID:(r={orderID:n,clientAccessToken:t}).orderID,clientAccessToken:r.clientAccessToken})}).then(function(){return n})}),a=o===x.nn&&H,s=function(){return c},h=a?function(n){if(Tn)throw new Error("Checkout already rendered");var r=n.createOrder,e=n.fundingSource,t=n.buyerCountry,o=G(function(){return l.try(function(){return v.close()}).then(function(){return yn({fundingSource:e,createOrder:r,buyerCountry:t}).render(Q.pn)}).catch(g).then(function(){return new l(g)})}),i=!1,f=function(){return l.try(function(){if(!i)return r().then(function(n){return window.xprops.onCancel({orderID:n})}).catch(function(n){return window.xprops.onError(n)})})},c=window.xprops.onShippingChange&&function(n,r){return window.xprops.onShippingChange(n,u({},r,vn(n.orderID)))},a=wn(),s=window.xprops,h=s.locale,d=s.commit,w=s.onError,v=window.paypal.CardFields(u({},n,{cspNonce:wn(),createOrder:r,onApprove:function(n){var r=n.orderID,e=n.payerID,t=n.paymentID,u=n.billingToken;i=!0;var f=ln(r,0,o);return window.xprops.onApprove({orderID:r,payerID:e,paymentID:t,billingToken:u},f).catch(function(n){return window.xprops.onError(n)})},onCancel:f,onError:w,onAuth:function(n){return dn(n.accessToken)},onClose:function(){return Tn=!1,f()},onShippingChange:c,buyerCountry:t,locale:h,commit:d,nonce:a}));return{instance:v,render:function(){Tn=!0;var n=v.render("#card-fields-container");return An(),n}}}({createOrder:s,fundingSource:o,card:i,buyerCountry:r}):yn({window:e,createOrder:s,fundingSource:o,card:i,validationPromise:f,buyerCountry:r}),d=h.instance,w=h.render;return V&&s().then(function(n){var r;an("\n        mutation UpdateClientConfig(\n            $orderID : String!,\n            $fundingSource : ButtonFundingSourceType!,\n            $integrationArtifact : IntegrationArtifactType!,\n            $userExperienceFlow : UserExperienceFlowType!,\n            $productFlow : ProductFlowType!\n        ) {\n            updateClientConfig(\n                token: $orderID,\n                fundingSource: $fundingSource,\n                integrationArtifact: $integrationArtifact,\n                userExperienceFlow: $userExperienceFlow,\n                productFlow: $productFlow\n            )\n        }\n    ",{orderID:(r={orderID:n,fundingSource:o,integrationArtifact:en.Tn,userExperienceFlow:a?tn.Cn:tn.An,productFlow:on.Sn}).orderID,fundingSource:r.fundingSource,integrationArtifact:r.integrationArtifact,userExperienceFlow:r.userExperienceFlow,productFlow:r.productFlow})}),l.try(function(){return a?f.then(function(n){if(n)return w()}):l.all([w(),f.then(function(n){if(!n)return d.close()})])}).then(function(){return f.then(function(n){if(n)return s().then(En)})}).catch(function(n){return l.all([d.close(),d.onError(n)])})},i={};return i.onInit=l.try(function(){if(window.xprops.onInit)return window.xprops.onInit({},{enable:function(){return l.try(function(){t=!0})},disable:function(){return l.try(function(){t=!1})}})}),(".paypal-button",void 0===e&&(e=window.document),[].slice.call(e.querySelectorAll(".paypal-button"))).forEach(function(n){var r,e,t=function(n){return{fundingSource:n.getAttribute("data-funding-source"),card:n.getAttribute("data-card")}}(n),i=t.fundingSource,u=t.card;e=function(n){n.preventDefault(),n.stopPropagation(),o({fundingSource:i,card:u})},(r=n).addEventListener("touchstart",g),r.addEventListener("click",e),r.addEventListener("keypress",function(n){if(n.keyCode===L.T)return e(n)})}),i.getAuth=sn().then(g),i.prerender=i.onInit.then(function(){return window.xprops.getPrerenderDetails().then(function(n){if(n)return o({win:n.win,fundingSource:n.fundingSource,card:n.card})})}),i.remember=l.try(function(){if(n&&n.venmo&&n.venmo.eligible)return window.xprops.remember([x.q])}),i.setupCheckout=function(){pn=!1;var n=[y(window),N(window)],r=n[0],e=n[1],t={};return e&&r&&r!==e&&(t.canRenderTo=window.paypal.Checkout.canRenderTo(e).then(function(n){zn=n})),l.hash(t).then(g)}(),l.hash(i).then(g)}e.d(r,"setupButton",function(){return Cn})}]);
//# sourceMappingURL=smart-payment-buttons.min.js.map